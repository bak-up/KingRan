/*
变量：
JD_PROXY_OPEN      // 代理启用变量，默认不开启（true/false）
JD_PROXY_TUNNRL      // 代理池代理地址变量，默认不开启，仅支持代理池模式(auto-proxy-pool)，格式为：http://ip:port
JD_PROXY_URL      // API代理地址变量，默认不开启，仅支持 数据格式:txt;提取数量:每次一个，格式为：http://api.xxx.xxx
JD_NO_PROXY      // 禁止走代理，默认 127.0.0.1,*.baidu.com 需要自行修改
根据自行需要设定，脚本定时每25分钟自动执行一次

cron:5/25 * * * *
============Quantumultx===============
[task_local]
#代理缓存Token
5/25 * * * * jd_token.js, tag=代理缓存Token, enabled=true

*/

const $ = new Env('代理缓存Token');
var version_='jsjiami.com.v7';const liIll1Ii=IIlIi1ll;(function(l1I111li,Iili1I11,IIIiliIl,lliilil,I1lliiii,lIiill1I,lll1l11i){return l1I111li=l1I111li>>0x6,lIiill1I='hs',lll1l11i='hs',function(il1IiIll,i1I1IIiI,Ii1111i,I1ii111,IlliIlII){const IIli1il1=IIlIi1ll;I1ii111='tfi',lIiill1I=I1ii111+lIiill1I,IlliIlII='up',lll1l11i+=IlliIlII,lIiill1I=Ii1111i(lIiill1I),lll1l11i=Ii1111i(lll1l11i),Ii1111i=0x0;const ilIIiIii=il1IiIll();while(!![]&&--lliilil+i1I1IIiI){try{I1ii111=parseInt(IIli1il1(0x1b9,'a5cX'))/0x1+-parseInt(IIli1il1(0x1f9,'lJ*@'))/0x2+parseInt(IIli1il1(0x199,'[[kL'))/0x3*(parseInt(IIli1il1(0x27d,'^Qs('))/0x4)+-parseInt(IIli1il1(0x1b6,'xdlP'))/0x5*(-parseInt(IIli1il1(0x247,'soni'))/0x6)+parseInt(IIli1il1(0x252,'GjW2'))/0x7*(parseInt(IIli1il1(0x265,'%$pC'))/0x8)+parseInt(IIli1il1(0x299,'BSKX'))/0x9+-parseInt(IIli1il1(0x1bc,'WcGY'))/0xa;}catch(il1il1l1){I1ii111=Ii1111i;}finally{IlliIlII=ilIIiIii[lIiill1I]();if(l1I111li<=lliilil)Ii1111i?I1lliiii?I1ii111=IlliIlII:I1lliiii=IlliIlII:Ii1111i=IlliIlII;else{if(Ii1111i==I1lliiii['replace'](/[tqfnlhXWVRCxbDrSEPY=]/g,'')){if(I1ii111===i1I1IIiI){ilIIiIii['un'+lIiill1I](IlliIlII);break;}ilIIiIii[lll1l11i](IlliIlII);}}}}}(IIIiliIl,Iili1I11,function(l11Il1Il,iIliilil,ilIi1lll,lilili1I,li1liII1,l1lliiIi,ilI1I1il){return iIliilil='\x73\x70\x6c\x69\x74',l11Il1Il=arguments[0x0],l11Il1Il=l11Il1Il[iIliilil](''),ilIi1lll=`\x72\x65\x76\x65\x72\x73\x65`,l11Il1Il=l11Il1Il[ilIi1lll]('\x76'),lilili1I=`\x6a\x6f\x69\x6e`,(0x13efe1,l11Il1Il[lilili1I](''));});}(0x3200,0xcf37e,ii1ll1li,0xca),ii1ll1li)&&(version_=ii1ll1li);const iIllli11=$[liIll1Ii(0x256,'[kJo')]()?require(liIll1Ii(0x206,'WcGY')):'',iI1Ili1l=$[liIll1Ii(0x1f5,'bh((')]()?require(liIll1Ii(0x20b,'U5Bz')):'',lIl1i1i=require(liIll1Ii(0x1d1,'6W1N')),i111l1Il=require('./function/cache/index'),i1liiil=require(liIll1Ii(0x1c7,'oo9j')),illliIli=require(liIll1Ii(0x23f,'xdlP')),i1l1llII=process[liIll1Ii(0x17b,'WjVl')][liIll1Ii(0x21c,'yLy&')]||'25';let Iii1I1Ii=parseInt(i1l1llII)*0x3c*0x3e8;const llIil1li=new i111l1Il(Iii1I1Ii,__dirname+liIll1Ii(0x1f4,'[[kL')),iIIIli1I=[liIll1Ii(0x235,'T2z1'),'http://kr.kingran.cf/sign'],l1l1i1ll=iIIIli1I[llIlIIi1(0x0,iIIIli1I[liIll1Ii(0x257,'5eRp')])],lil11iII=l1l1i1ll,Ill1I1Il=process[liIll1Ii(0x17c,'$%Ed')]['JD_SIGN_KRAPI']||'';let lli1l1Ii=liIll1Ii(0x209,'EU@#');const IIii11i1=process[liIll1Ii(0x18a,'Jl^i')][liIll1Ii(0x1da,'$%Ed')]===liIll1Ii(0x1b8,'[[kL'),l1lli1=process[liIll1Ii(0x22f,'LSKo')]['JD_PROXY_TUNNRL'],IIlii11i=process['env'][liIll1Ii(0x27c,'xdlP')],liIIIil1=process[liIll1Ii(0x25b,'soni')][liIll1Ii(0x204,'Uqup')]||'127.0.0.1,*.baidu.com';let ill1II1I='',I1I1II11=0x0;function IIlIi1ll(_0x2d11d1,_0x1d6424){const _0x42ef8e=ii1ll1li();return IIlIi1ll=function(_0x4a46ea,_0x473a39){_0x4a46ea=_0x4a46ea-0x179;let _0x591014=_0x42ef8e[_0x4a46ea];if(IIlIi1ll['DkvPhk']===undefined){var _0x393bbb=function(_0x4ed4f9){const _0x5c64dd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x7dbacb='',_0x185b30='';for(let _0x376925=0x0,_0x841cc,_0x192b0a,_0x37f9c7=0x0;_0x192b0a=_0x4ed4f9['charAt'](_0x37f9c7++);~_0x192b0a&&(_0x841cc=_0x376925%0x4?_0x841cc*0x40+_0x192b0a:_0x192b0a,_0x376925++%0x4)?_0x7dbacb+=String['fromCharCode'](0xff&_0x841cc>>(-0x2*_0x376925&0x6)):0x0){_0x192b0a=_0x5c64dd['indexOf'](_0x192b0a);}for(let _0x5f201f=0x0,_0x1f376a=_0x7dbacb['length'];_0x5f201f<_0x1f376a;_0x5f201f++){_0x185b30+='%'+('00'+_0x7dbacb['charCodeAt'](_0x5f201f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x185b30);};const _0x218d0b=function(_0x58dd9d,_0x196748){let _0x3b736a=[],_0x2c1f09=0x0,_0x2aa025,_0x11d928='';_0x58dd9d=_0x393bbb(_0x58dd9d);let _0x20cd89;for(_0x20cd89=0x0;_0x20cd89<0x100;_0x20cd89++){_0x3b736a[_0x20cd89]=_0x20cd89;}for(_0x20cd89=0x0;_0x20cd89<0x100;_0x20cd89++){_0x2c1f09=(_0x2c1f09+_0x3b736a[_0x20cd89]+_0x196748['charCodeAt'](_0x20cd89%_0x196748['length']))%0x100,_0x2aa025=_0x3b736a[_0x20cd89],_0x3b736a[_0x20cd89]=_0x3b736a[_0x2c1f09],_0x3b736a[_0x2c1f09]=_0x2aa025;}_0x20cd89=0x0,_0x2c1f09=0x0;for(let _0x1347a1=0x0;_0x1347a1<_0x58dd9d['length'];_0x1347a1++){_0x20cd89=(_0x20cd89+0x1)%0x100,_0x2c1f09=(_0x2c1f09+_0x3b736a[_0x20cd89])%0x100,_0x2aa025=_0x3b736a[_0x20cd89],_0x3b736a[_0x20cd89]=_0x3b736a[_0x2c1f09],_0x3b736a[_0x2c1f09]=_0x2aa025,_0x11d928+=String['fromCharCode'](_0x58dd9d['charCodeAt'](_0x1347a1)^_0x3b736a[(_0x3b736a[_0x20cd89]+_0x3b736a[_0x2c1f09])%0x100]);}return _0x11d928;};IIlIi1ll['NuxjLq']=_0x218d0b,_0x2d11d1=arguments,IIlIi1ll['DkvPhk']=!![];}const _0x264562=_0x42ef8e[0x0],_0x544af9=_0x4a46ea+_0x264562,_0x1269eb=_0x2d11d1[_0x544af9];return!_0x1269eb?(IIlIi1ll['tdgVWN']===undefined&&(IIlIi1ll['tdgVWN']=!![]),_0x591014=IIlIi1ll['NuxjLq'](_0x591014,_0x473a39),_0x2d11d1[_0x544af9]=_0x591014):_0x591014=_0x1269eb,_0x591014;},IIlIi1ll(_0x2d11d1,_0x1d6424);}const liIl1ili=illliIli[liIll1Ii(0x1dd,'nfrU')](Ill1I1Il);function ii1ll1li(){const iiIl1i11=(function(){return[...[version_,'SrCjWtnsXPYjiharfmqiVf.REqctoxbm.vDfS7ll==','W7lcGmk6WRFcPG','8yMPTCkBBSkQv2lcINaSbMG9WQGl6k+M5Rc85Asi6lw1fG','WQjyBhf1','W5zUmq','W67dLcL8WR8','WQdcQSo5','WRddRu0iaG','WPBdVfpcGJ1eta','v8o2W5BcKmkVe8kiWQa','W4NdRCofW643W79ZoIZdMmotqgPTW64KWPBcQqCEcSoEeIBcPxBcTmoXW7u','qCouW73cMG','WRmOCSoQkW','W4BcJwCohmkkhCkFWOtdQa','W5TVm0RdG8ozmq','W4fBmxBdIq','4PQQ77IrW73cPJRcKUwCVEwFTUs4VoEsQ+w0KEw9HowsOE+/GW','i8kkiG','WPRdQXWHfSoScZC','a3NdTCoW','W7zPaSkyWPlcK13dLmoIbXlcHmoFnSoOW78yWP4L','xmknpCo/x8oEW7VdLxhcRYDy','g0nRcG','W48UweWR','b8k1WPdcRmoA','WO/dGeCs','r8o3iJbe','8yMyKG9HBhH7fUAZNUAFQoAkKUwkMUIoKEwoQo++GoEUH8o/','qd7cTCkOWPflCmopuCkrWQhcO1q','WQRcVGe','WONdHe4','tCo/ctrQ','tCklfXO','W4jPDCkCla','W7jTzmkJha','WOZcHmoYzmkB','fSkNEuWVW6C8m8kpWRNcL8k5','WPWRWOFcUv/dJSotAW','wCojW7m','EmktW7lcOanLEIKfwCoc','WOldQXa','W73cJ8k/WRdcGJyrWPG','W7DnWRy','WRmzFCoKk0m','WPXOF8oJhsy','4PMoWQtKUPtNKylMSjJLJidPH7tVVj5LsSo8WOFdSb7cN1RcP8oMj8kfW4nsW7FdGJRcK8ocWQJdN8kKbSoFCCoXnCovW5BdHCkyWQ50EYhcOmkcwMe','WQKyWONcQ8k1','WQNcVCo7W68','fMldSa','jsupWRK','W4y0ygW3ASodyG','FCkBiSoivq','WRXCAL5nW6ZcVg8','z8ozy0jCWOvRWRe','W5HXWRlcJapcVG','WPzHCmoJ','W7rmce7dRSo0crNdKmo2pgm','4PQM77UeW4dKUjFNK4hLNytLNitKU6xVVBi','DhzwWPeQzXJcNCkb','WQ/cVCkwfW','kGi2WO4p','qdRcVSoEW7ivdCoJAG','W71oWRddJq','W6xcOKhcRavsWRW+s8oQW4JdJa','pCkanSk4mqfKtW','nfW9WRRcKmogWRtcJa','8lQiOmoefCkgzSoNWOGIWQtdJb3dIbBcU+ITS+AYKEwMGUI3Kdq','W6VdHJv1WRm','WObwhq','4PMyWRpMO7/MTQBLViNLIAdMQipLVApMNQpLViBLKkNKU57NK7tVV7NLJQVLS6VPGjxLHzy','tSouv39+','ify8WO/cNSolWQ8','qCoIsgi0W6uC','W6ddPajBWRK','WOPgDK5j','W5fVi3u','W5L+hCoxva','W7NdTSosW5n1','WQ9wfCosweqpldW','8l6KHYxPHkxORR3LPQdLG6FKU5FOGBJOP5RLH7pVVBdPGjVLSjtMJzhKUitMLPNNMyyOW6NLKOhVVQe','W7XhWQxdJSkyd8kk','WPico8k9WQ7cV3hdPmospg/cOG','W5RcS0f1qmoSuNbNECoBWRe','WRZdVHm','vSohW6dcLgW','hMBdNmoSW4m','WRlcSmoFBmk3','WQtcVmkDpCkb','WOvusCoHaa','W6lcUmkfWOBcIruPWRO','8y2tHshLT4NOR5JLJi7MNQdLNAZNVjNLRPDihxindG0','W55HnW','W7NdPmkd','jSoHWQZdVwe','s8o5wgS','WPJdHsddIwS2WR0AxSoJ','a8k4EWCSW71MzmopWQ/cLq'],...(function(){return[...['wmkQabxcOG','WOhcNsNdQmoOgrtdKMFcKeBdGq','W6P5dW','4PQvWOBORApNNjlMMzFKUlpNKOtLNAlLNj7KUP3ML4BMJ5VKU7hNK6hMSOlMQAxLVQOaWQtdHhlcNu3cG1GlgMPkWQS4W7pcVmoiW4e','W7JdSCkOWRqxWRmHWR90pmkx','D8oWd8oQEmktWPpcMHxcPSk7lG','4PIKc0tcUchLN63LNAJLJilPHyRVVkmLbmoisKfAcCkijCoMW7BdSIldH0FcVaWTyxtcM8knE0RdGSklyCompuK/luhdVIpdUCkjomkfW7tdIa','zSosbH9UwG','t8ovoW','D8o2W7FcGmkJ','bmoZWPddIg1EsZ4Aqq','WRaLWRhcQmk2W6ddQmov','8jciSmkrW5H6sZWTEhKMeCkNWQlcSEISLEAWTowMQEI3J8o6','tHiNx8o7W5RdPcHkWRFcQ8kPt8oO','CmoSW5lcH2i','8y65UKBdJComir/dVeVcSgBcTvWCW5BLN5ZLPltNK5ZORzpMSPFMLOJPGQZLI7VKUB/PLRRORAe','W6i+E2m/E8oO','WP3dVuK','WQJcVmke','WQ1DDW','W6DJdwhcQ8kyWOS','awNdTCoOW44rm8oF','W4ldUmofW71L','zCovaH15rG','WOTCdSoDufuK','W69lg8oNzG','WOiHWPm','kSormmo4WRuVWP7cIW','kSklmW','W7jmWRxdJ8kb','WQVcOmoQW6HhWQWJ','W5xcNaXpF8k9W5JdItX6jG','W55WWQS','W5zSWOZdPWO','WR/cPchdSmoa','W7fKWR/dGWy','Bmo1W5JdHxq','iXK+WOuA','lhJdIvC','W5VcPmkh','FSk5f8oE','W7zdWQxdICkr','W6L5l8oNBa','pNVdG1upw8k0xXJdKSoZ','W57dUbXNWQ8','8k26V8kivWqBW5adhCocW7bUpSkQDUIVHoAWRowMPUI2Lmk5','jCo4cmoDWPK','W6JdP8o8EmkjDf3cQa','tmoTW4tcKmk0aCkOWQdcQ38ZgmkC','u8o2W4i','dmkTWPhdNmo2qSoqW7xcMwGxf8kOkW','WOr/EmoP','d1DSaW','WOzlDSoRjW','WQ5gA0zA','tCovW7hcR8kv','zCoFcZ9/xa','BJawDt/cMmogW67dN8k5','D8kUfq','W6H6peldUG','W6JMRjlPH4ZOR64','pCk1pCkSkG','jhVdHf8gbSoQ','WQ7cPrldMSktEMq','WQT1nCo7Cg0AkuNcQSkrCa','WQ4fwmoUirldVXm','4PUk77UrWPVKU6RNK4NLNjpLNBBKU5/VVie','8k6ITK4','nSkce8klgq','W6n4hG','W6j3lvJdNa','WRrqsa','W7H6WOhdPbSuuSkqW7tdO8oUW5LLxaW7eZ3cL0CRW6u/e1NdJa/dRSkjW4pdLhDQWQ/cSvBcKd1rD8oQWPOHmCoecmk+uCk6WQK1sNCkW7a/iCoIua','kLyP','WR0OeG','ESoedq54xCkxvKBcGa','W6L2pSkjWRdcIehdSG','W4pcPmklWPhcQq','WQ/cRmooBa','WQ8wW6pcNmomsCksW7SpbNz+','W5PUWQ3cIWpcUgZdGSk2W4lcJwVdTSo0cmkRWRpdVgldIX93W54VwG7dPCk9WQCPW53cP8kO','k0OP','a8kiDmkqdSoVW7NdQXpcH8kWeSkiW4i','bweKWPRcSG','W55zFmkTbq','W6m6y3q7','v8kmnmoTEW','4PUM77I2BUw+MEwkSUAHQoA2JowlMEw0LEw+OowsIEs7V+EtT++9P+s+LEADK+wHLUwfVUs7OEEqTEwDH+wDSowoQEMgSq','W7/cSNaoja','44oQ5O2756wm44cA6k295yEj6i+A5yYsWQRcS8otWQhdJSkvpUEAH+ApKos9MEEuVmomW6hcPcxcHH/NM5ZKU4/KUQVNRQFLIOZOJOxLJ7C','FCkxWP7dVh52Ct4','pv5eguu','WQhcPmoQW69o','W77cVHldRfOfWPS8ACouWQZdK8o8W5CsW53cNhtdGuq','W7zIWPRdUXO','wCo1jInN','W5NcQSknWPe','W7jGWOJdQ8kF'],...(function(){return['WQpdRrDHW5S','WQhdGNZcPJm','W6K0Aa','W61TigddOG','ESo4h8oSFmkDWPNcNa','WOTwdG','pmogWRBdQ1C','WRBdPY3dTeW','W4DeASkdaCk4w8kqW4e','WO9PseDq','ymovm0PQzIGblq','WRqPaW','khzOg1y','8yMzIetMN4hLN4ZNV6pLRBhdQCoIaLJcGoAkQ+wlQSk9WPG','WOFcLSkTpSkwWRuseComW4KuWO1Y','bmkgm8kPca','lSorja','wCo3tMfRWP9bWOq','WONcNSk6cSkX','WPLes0XL','W5RdSsT0','WOPqfmoyxu08','WRvkxSoWcG','W6LGy8kKhq','e014','4PUP77QCh8k5nuzhaUE+MUwTNUAxSoMxICos','iuXimwy','W5LXkLxdLW','WONdQdqcnG','WRGqASo6pa','W5n2WOxdUSkMk8k5W4qEfW','8y6WP0BLTzJORzlLJOpMNAFLNQpNVlpLRO1CW7P2kCoXW74','WOb8DNdcM8oezItcPq','WP5IFCoRdIFcRq','ASoQW4dcLSkpe8kiWQa','f01Sh8kNWORcU30','x8oLW6FdOmk6k3dcJGRdR8or','W5LKe2tdJa','8ysAKLRdNLrveqDLWORcSqqzrmkI6kY75Rox5Aw76lEcA+kFKJZMJQ3LJ6ZOVBRLMk3KUORNQPK','WOjOySo0bIdcSaW','W7tcUmooz8kSv1/cINvMcYKFWPaNpGPwo3KkW6LBlx3dOG','W7ZdUmkQhCkhDW','ohhdM0aoaCo3cq','WRldTMWOjG','WPFdNtVdM3uQWRauqCo/W43dRa','cmkOWOtcII4loYLEtanf','jNVdJW','a0BdJ8onW5q','W7bylvZdOG','mhVdMeuV','W5DXWRO','WRFcSCoC','4PQQ77IrW73KUitNKAZLN6VLNy3KUOZVV4u','z8o9W5/cGmkz','4PILE05xf+wCV+wFIEwpVUMeP++8Vre/d8oCWQhdG1/cNYvYxmoJWQaQWOddGmkkWQGaWRtdI8kXWRPEFWldVSovxu5zW6T/tCoLW7RcJf9IeIy','yCo7ce9P','DCoDW7RcQSkolCk1WPFcL1ql','qCo5t2zGWQTEWO0','hSktkSomESkWWQpcSdVcHSoBemkQ','4PUD77UkWR7dJxBcKEwDSUwEP+s7KoErU+w0QUw8P+wtN++9La','W7XXASksia','C8k1bSonBCkOWOVcU1RcKa12W5ZcQ1jaW4xdLCkEW5TzWQVcQCopgt4vE2vrta','WRBdOfmZga','wCo4yWCSWQ0yomovWRpcNSkT','W5FdKCkhaCkL','WQiFd8k0WR0','W4Tyhf/dTG','WQTCB01gWQRdUaL4WQm','tSokfhHx','8jMRRfldQxhdUCobW7RMSPFMN6pMIBNLIPpOJzRLJzdVVlFNRj/cKW','WPZdJKqzha','W6vkcCowzq','EmoHvKz9','WPldNWj7WRdcRKi','WQhdKZldILm','WPVdQajmW78','wSo3W57dNx5trsn0EszfW4NcKmkxWO0cW6VcNSkcW78v','WQTCzv4','W5VcKgurj8kym8kv','WQ3dRa9bW6C','dh0rWONcVSoRWO/cRmk4W6NdQeJcTdNcHtHX','ECo6js94','WPTMAhbL','DSo+W7ZdH0W','4PUj77Mjros4JUEtUUAYKos7IUEsU+w1V+w9QEwqKU+/Ta','DCo0W5JdMh4','W57LIAZPKBhdSG','rCotW6FcNW','BmoipunX','sCo0W5RdMNelwhf9Asu','W7pdP8kffq','jmoZkCobWOG','WQaoa8k+WOu','vCo0W4ldI3fEbsC','WP14yefG','WOH+FMbc'];}())];}())];}());ii1ll1li=function(){return iiIl1i11;};return ii1ll1li();};$[liIll1Ii(0x1ef,'BSKX')]=liIl1ili?.['hostname'];let li111lI=![];if(IIii11i1){li111lI=!![],require('global-agent/bootstrap');if(IIlii11i){console[liIll1Ii(0x1b3,'yLy&')](liIll1Ii(0x23b,'Jl^i')),console[liIll1Ii(0x19b,'Uqup')](liIll1Ii(0x200,'Jl^i')+IIlii11i+'\x0a');let lIl1I1l1=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/g;global[liIll1Ii(0x28d,'%fhU')]['NO_PROXY']=lIl1I1l1['exec'](IIlii11i)[0x0]+','+($[liIll1Ii(0x229,'lJ*@')]||liIll1Ii(0x1f0,'0FV%'))+','+liIIIil1;}else{if(l1lli1)global['GLOBAL_AGENT']['HTTP_PROXY']=l1lli1,global[liIll1Ii(0x240,'EU@#')][liIll1Ii(0x260,'nfrU')]=($[liIll1Ii(0x205,'nfrU')]||liIll1Ii(0x189,'MVfd'))+','+liIIIil1,console['log'](liIll1Ii(0x220,'xdlP')),console[liIll1Ii(0x1b3,'yLy&')](liIll1Ii(0x264,'XFzV')+global['GLOBAL_AGENT']['HTTP_PROXY']+'\x0a');else{const iil1iIii=liIll1Ii(0x1ec,'LSKo')['split']('|');let il1l1I1=0x0;while(!![]){switch(iil1iIii[il1l1I1++]){case'0':console[liIll1Ii(0x248,'%fhU')](liIll1Ii(0x202,'YwqD'));continue;case'1':console[liIll1Ii(0x294,'yZ)6')]('⚠\x20请知晓代理地址仅支持代理池模式(auto-proxy-pool)\x0a');continue;case'2':return;case'3':console[liIll1Ii(0x1ce,'YwqD')]('⚠️\x20当前检测到已开启代理，但未填写代理地址变量');continue;case'4':console[liIll1Ii(0x191,'XFzV')]('⚠\x20代理池变量：export\x20JD_PROXY_TUNNRL=\x27http://ip:port\x27');continue;}break;}}}}else{console[liIll1Ii(0x1b3,'yLy&')](liIll1Ii(0x270,'WjVl')),console[liIll1Ii(0x251,'rrDr')]('⚠\x20开启代理变量：export\x20JD_PROXY_OPEN=\x27true\x27\x20\x0a');return;}console[liIll1Ii(0x27e,'oo9j')](liIll1Ii(0x1e5,'WjVl')+i1l1llII+liIll1Ii(0x222,'Is$U'));let liiiI11I=[],I1ll1lI='';if($['isNode']()){Object[liIll1Ii(0x244,'MVfd')](iIllli11)['forEach'](IIlIl1I1=>{const llIlIii=liIll1Ii;liiiI11I[llIlIii(0x223,'rrDr')](iIllli11[IIlIl1I1]);});if(process[liIll1Ii(0x17d,'q$he')][liIll1Ii(0x1d0,'WcGY')]&&process[liIll1Ii(0x186,'gwj5')]['JD_DEBUG']===liIll1Ii(0x1bf,'YwqD'))console['log']=()=>{};}else liiiI11I=[$[liIll1Ii(0x182,'6W1N')](liIll1Ii(0x25d,'YwqD')),$[liIll1Ii(0x17a,'YwqD')]('CookieJD2'),...jsonParse($['getdata'](liIll1Ii(0x1d4,'wzgD'))||'[]')[liIll1Ii(0x249,'MVfd')](liI11ll=>liI11ll['cookie'])]['filter'](Ii1IllI=>!!Ii1IllI);allMessage='',message='',!(async()=>{const Ill1ii1l=liIll1Ii,II1IlI1l={'UFDxG':function(lI1I11lI,IIii11l1){return lI1I11lI===IIii11l1;},'jdThc':Ill1ii1l(0x1fc,'LSKo'),'XocMx':Ill1ii1l(0x1c3,'NbY*'),'VSRIh':'https://bean.m.jd.com/','iBAad':function(I1i1IIl,II1lIllI){return I1i1IIl<II1lIllI;},'zgCDv':Ill1ii1l(0x274,'*tK8'),'Hoiga':function(i1I111l,l1liil1){return i1I111l+l1liil1;},'xHgSy':function(l11I11ii,I1llli11){return l11I11ii==I1llli11;},'fMjMS':function(l1il1l1l,iIiiII){return l1il1l1l%iIiiII;},'kzZzq':function(iiili1ll,l1lillII){return iiili1ll!==l1lillII;},'VpKkS':'vzZVj','IssqP':function(Ii1iIIIl){return Ii1iIIIl();},'Zmxkm':Ill1ii1l(0x1a9,'%fhU'),'EJFpf':function(li1lllll,lIIl1Il){return li1lllll+lIIl1Il;},'zYkYA':'📶\x20','BZcsF':function(IIll1I1I){return IIll1I1I();}};if(!liiiI11I[0x0]){if(II1IlI1l['UFDxG'](II1IlI1l[Ill1ii1l(0x1f1,'LSKo')],Ill1ii1l(0x1bd,'yLy&'))){$[Ill1ii1l(0x1bb,'yLy&')]($[Ill1ii1l(0x1ca,'XFzV')],II1IlI1l[Ill1ii1l(0x278,'T2z1')],'https://bean.m.jd.com/',{'open-url':II1IlI1l[Ill1ii1l(0x1f7,'MVfd')]});return;}else i111111i[Ill1ii1l(0x1af,'Njgo')](Ill1ii1l(0x1eb,'%fhU'));}for(let l1l1IlI1=0x0;II1IlI1l[Ill1ii1l(0x237,'[kJo')](l1l1IlI1,liiiI11I['length']);l1l1IlI1++){'WxtEL'===II1IlI1l[Ill1ii1l(0x22e,'@3bj')]?lll1I1i[Ill1ii1l(0x287,'bh((')]('🚫\x20getToken\x20API请求错误\x20➜\x20签名获取失败'):(I1ll1lI=liiiI11I[l1l1IlI1],I1ll1lI&&($[Ill1ii1l(0x1ee,'Uqup')]=decodeURIComponent(I1ll1lI[Ill1ii1l(0x1c6,'uZRU')](/pt_pin=([^; ]+)(?=;?)/)&&I1ll1lI[Ill1ii1l(0x193,'a5cX')](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[Ill1ii1l(0x281,'[[kL')]=II1IlI1l[Ill1ii1l(0x221,'lJ*@')](l1l1IlI1,0x1),message='',$[Ill1ii1l(0x25c,'%$pC')]=0x0,$[Ill1ii1l(0x239,'LSKo')]=![],$[Ill1ii1l(0x21a,'w[wP')]='',console[Ill1ii1l(0x1e4,'BSKX')]('\x0a\x0a******开始【京东账号'+$[Ill1ii1l(0x187,'a5cX')]+'】'+($['nickName']||$[Ill1ii1l(0x284,'XFzV')])+Ill1ii1l(0x1a3,'Zt^1')),IIii11i1&&(IIlii11i&&(II1IlI1l[Ill1ii1l(0x228,'xdlP')](II1IlI1l[Ill1ii1l(0x227,'jfmL')](I1I1II11,0x14),0x0)&&(II1IlI1l['kzZzq']('nanzV',II1IlI1l['VpKkS'])?(await II1IlI1l['IssqP'](I11liIll),global['GLOBAL_AGENT']['HTTP_PROXY']=II1IlI1l['Zmxkm']+ill1II1I):I1i11li['log'](Ill1ii1l(0x179,'%fhU'))),console[Ill1ii1l(0x19b,'Uqup')](II1IlI1l[Ill1ii1l(0x29a,'rrDr')](II1IlI1l[Ill1ii1l(0x20d,'xdlP')],ill1II1I)),I1I1II11++)),await II1IlI1l[Ill1ii1l(0x20c,'bh((')](i1IiIIi)));}})()[liIll1Ii(0x180,'T2z1')](I1ii1iI=>$[liIll1Ii(0x1a2,'QMPC')](I1ii1iI))[liIll1Ii(0x1e1,'6W1N')](()=>$['done']());async function i1IiIIi(){const IiIi1III=liIll1Ii,liiIillI={'ffSjZ':function(I1iIliII,ilIlilii){return I1iIliII+ilIlilii;},'uYXei':function(i1I11I1i,IilliiII,iIl1IIii){return i1I11I1i(IilliiII,iIl1IIii);},'UuMsg':function(Iil1lI,i1l11il1){return Iil1lI<i1l11il1;},'unPdy':function(iIi1i1lI,lililIi){return iIi1i1lI!==lililIi;},'JqVEM':IiIi1III(0x1a7,'gwj5'),'mpHYT':function(i11I1lI,IilIiII1){return i11I1lI==IilIiII1;},'yuGZi':function(iiiiIl1I,iiII11Il){return iiiiIl1I==iiII11Il;},'THsiL':IiIi1III(0x17e,'Njgo'),'xkzxR':function(IlIl11il,IiilI1i1){return IlIl11il==IiilI1i1;},'QwjTs':function(l1ilil,iiIliIil){return l1ilil+iiIliIil;},'WrgSQ':IiIi1III(0x1ad,'%$pC'),'mHRfA':function(illIIIi,llIii1l,llll1I1I){return illIIIi(llIii1l,llll1I1I);},'EGOtc':IiIi1III(0x18e,'lJ*@'),'Buwuj':function(llII11l,iiilI1i1){return llII11l==iiilI1i1;}};try{let ll1iI1iI='';$[IiIi1III(0x226,'bh((')]=![],$[IiIi1III(0x1ed,'5eRp')]=![],$[IiIi1III(0x23d,'^Qs(')]=![],$[IiIi1III(0x28b,'U5Bz')]=0x0,ll1iI1iI=await liiIillI[IiIi1III(0x283,'5eRp')](l1il1lIl,I1ll1lI,lli1l1Ii);if(!ll1iI1iI&&!$[IiIi1III(0x1a8,'l9[k')]&&IIii11i1)for(let iII1Il1i=0x0;liiIillI['UuMsg'](iII1Il1i,0xc);iII1Il1i++){if(IIlii11i){if(liiIillI['unPdy'](IiIi1III(0x1e3,'wzgD'),liiIillI[IiIi1III(0x194,'Uh%[')])){if(liiIillI['mpHYT'](iII1Il1i,0x4)||liiIillI[IiIi1III(0x210,'yZ)6')](iII1Il1i,0x8)||liiIillI[IiIi1III(0x18c,'%fhU')](iII1Il1i,0xc)||$[IiIi1III(0x1ab,'[kJo')]){console[IiIi1III(0x251,'rrDr')](IiIi1III(0x27a,'wzgD')),await I11liIll(),global['GLOBAL_AGENT'][IiIi1III(0x296,'GjW2')]=liiIillI[IiIi1III(0x232,'MVfd')]+ill1II1I,I1I1II11=0x0,$[IiIi1III(0x195,'l9[k')]++;if(liiIillI[IiIi1III(0x212,'MVfd')]($[IiIi1III(0x225,'lJ*@')],0x3))break;}console[IiIi1III(0x255,'a5cX')](liiIillI[IiIi1III(0x214,'nfrU')](liiIillI[IiIi1III(0x259,'Is$U')],ill1II1I)),console['log'](IiIi1III(0x246,'@3bj')+(iII1Il1i+0x1)+'\x20次重试'),ll1iI1iI=await liiIillI['mHRfA'](l1il1lIl,I1ll1lI,lli1l1Ii),ll1iI1iI&&($[IiIi1III(0x190,'l9[k')]=!![]),I1I1II11++;}else{li11IilI['keys'](I1IliIl1)[IiIi1III(0x272,'yLy&')](i1il1l1=>{const ilI1llI=IiIi1III;IilliI11[ilI1llI(0x23e,'soni')](I1l1iil1[i1il1l1]);});if(i1lIl1I[IiIi1III(0x28e,'Njgo')]['JD_DEBUG']&&i1Ill1[IiIi1III(0x1b4,'xdlP')][IiIi1III(0x254,'XFzV')]==='false')l1IIliiI[IiIi1III(0x1b1,'@3bj')]=()=>{};}}else{if(l1lli1){console['log'](IiIi1III(0x211,'EU@#')+liiIillI[IiIi1III(0x1b0,'LSKo')](iII1Il1i,0x1)+IiIi1III(0x1a6,'q$he')),ll1iI1iI=await l1il1lIl(I1ll1lI,lli1l1Ii);if(ll1iI1iI){if(liiIillI[IiIi1III(0x1e2,'5eRp')]!==liiIillI[IiIi1III(0x22a,'@3bj')])try{let I1I1iIIi=/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}:[1-9]\d*/g,i1lI1l=I1I1iIIi['exec'](Ill1llII[IiIi1III(0x1e0,'*tK8')]);I1lili1l=i1lI1l[0x0],ilIil1Il[IiIi1III(0x291,'WcGY')][IiIi1III(0x296,'GjW2')]=liiIillI[IiIi1III(0x196,'*tK8')](IiIi1III(0x215,'NbY*'),ilIlIIll);}catch(iiIiIil){}finally{iilI1lII();}else $[IiIi1III(0x262,'5eRp')]=!![];}$['token403num']++;if(liiIillI[IiIi1III(0x275,'q$he')]($['token403num'],0x2))break;}}if($['flag'])break;}}catch(Il1I11iI){console[IiIi1III(0x1af,'Njgo')](Il1I11iI);}}function IIlii1lI(ilI1lll1='',lill11Ii){const lll1iii=liIll1Ii,liIlI1I={'PEJYj':function(i1IIiil,lIiI1iIl){return i1IIiil>lIiI1iIl;}};let Ili1lIl=lill11Ii[lll1iii(0x25a,'uZRU')](ilI1lll1);if(Ili1lIl&&liIlI1I[lll1iii(0x1c9,'QMPC')](Ili1lIl[lll1iii(0x181,'QMPC')],0x0))return Ili1lIl[0x0][lll1iii(0x19d,'5eRp')]();return'';}function lI1I1Ill(l1li1I1i,iilll1II){let iIilI1ii=new Date()['getHours']();if(iIilI1ii>=0x0&&iIilI1ii<=0x17)return l1li1I1i;return l1li1I1i+'_'+iilll1II;}function llIlIIi1(i1il1ill,I11lIlIi){const IliII1Ii=liIll1Ii,I1liIl={'REmRV':function(I1iiI11I,llI1iI1I){return I1iiI11I+llI1iI1I;},'ZryEm':function(I11lIIi1,iliii1){return I11lIIi1-iliii1;}};return I1liIl[IliII1Ii(0x20a,'MVfd')](Math[IliII1Ii(0x1c8,'2WBI')](Math['random']()*I1liIl[IliII1Ii(0x1be,'wzgD')](I11lIlIi,i1il1ill)),i1il1ill);}async function l1il1lIl(liilI11,i1IIi1li){const i1iIilII=liIll1Ii,lIilIlil={'fZPuK':function(lIl1iiII,II1I1Ill){return lIl1iiII||II1I1Ill;},'llTDC':i1iIilII(0x1c5,'Zt^1'),'JzvJb':function(lIlii1,il1l1Ill){return lIlii1==il1l1Ill;},'vyDsY':i1iIilII(0x1cc,'NbY*'),'SUiKF':i1iIilII(0x23a,'Njgo'),'qBFSg':function(iiIiIl1l,lilI1li){return iiIiIl1l||lilI1li;},'LMFPe':function(lil1IIl,lIlI111){return lil1IIl(lIlI111);},'glCFN':i1iIilII(0x218,'lJ*@'),'KcvaV':function(l11lllll,I1IIlii1){return l11lllll+I1IIlii1;},'DOeNg':i1iIilII(0x1ac,'[[kL'),'bzYqs':'192.168.2.2','rLTKT':function(iiI1lIlI,lIlIlilI){return iiI1lIlI+lIlIlilI;},'zopuN':'⚠️\x20当前检测到已开启代理，但未填写代理地址变量','AMKjO':'⚠\x20请知晓代理地址仅支持代理池模式(auto-proxy-pool)\x0a','iBYAf':'⚠\x20代理池变量：export\x20JD_PROXY_TUNNRL=\x27http://ip:port\x27','YQCKi':'⚠\x20API地址变量：export\x20JD_PROXY_URL=\x27http://api.xxx.xxx\x27\x0a','fvYmx':function(iil1ilii){return iil1ilii();},'XdzdX':function(lllli111,I1lil11i,lIl1liiI){return lllli111(I1lil11i,lIl1liiI);},'PAbeq':function(ll1iI1II,Ii11lIi){return ll1iI1II===Ii11lIi;},'RZEVV':function(iIIiI1Ii,liIllII){return iIIiI1Ii!==liIllII;},'vFgoN':i1iIilII(0x243,'0FV%'),'Wpocg':i1iIilII(0x183,'Uh%['),'mBXYv':function(iI1i1il1,lIil1i11){return iI1i1il1!==lIil1i11;},'HKIMf':'PHVLB','eVtns':i1iIilII(0x288,'GjW2'),'WZImT':i1iIilII(0x1b2,'2WBI'),'ygoaa':i1iIilII(0x1ba,'Jl^i'),'WGyJm':'JD4iPhone/167650\x20(iPhone;\x20iOS\x2013.7;\x20Scale/3.00)','VJfqJ':'zh-Hans-CN;q=1','inoSE':'gzip,\x20deflate,\x20br','PAQUA':function(IIiIi11I,iIIII1l1){return IIiIi11I===iIIII1l1;},'QwJwF':i1iIilII(0x293,'QMPC'),'HoRdb':i1iIilII(0x242,'YwqD'),'vygsD':'OLOOW','FBptD':function(li1Iiil1,IilIIiI1){return li1Iiil1===IilIIiI1;},'EKZCa':i1iIilII(0x1c2,'w[wP'),'JgMhA':'gzoke'};async function liI1lll(iIliiIII){return new Promise(il111li=>setTimeout(il111li,iIliiIII));}let ii1i11iI=IIlii1lI(liilI11,/(?<=pt_pin=)([^;]+)/);if(ii1i11iI){let Ii1iIiI1=lIilIlil[i1iIilII(0x201,'Uqup')](lI1I1Ill,ii1i11iI,i1IIi1li);token='';if(lIilIlil['PAbeq'](token,'')){if(lIilIlil['RZEVV'](lIilIlil[i1iIilII(0x19f,'5eRp')],'vGjHU')){let liliIIIi=await i1liiil('isvObfuscator',{'url':i1IIi1li,'id':''});if(liliIIIi){if(lIilIlil['RZEVV'](i1iIilII(0x198,'jfmL'),lIilIlil['Wpocg']))try{if(lIilIlil[i1iIilII(0x267,'%$pC')](i1iIilII(0x24d,'wzgD'),i1iIilII(0x1de,'$%Ed'))){if(Ill1I1Il)body=liliIIIi[i1iIilII(0x241,'BSKX')][i1iIilII(0x20f,'q$he')];else{if(lIilIlil['HKIMf']!==lIilIlil[i1iIilII(0x1e6,'Zt^1')])body=liliIIIi[i1iIilII(0x266,'$%Ed')];else return Ii11lI1[0x0]['trim']();}const il11ll1I=await lIl1i1i['post'](lIilIlil[i1iIilII(0x24e,'[[kL')],{'headers':{'Host':i1iIilII(0x24f,'U5Bz'),'Content-Type':lIilIlil['ygoaa'],'Cookie':liilI11,'User-Agent':lIilIlil[i1iIilII(0x21b,'NbY*')],'Accept-Language':lIilIlil[i1iIilII(0x230,'*tK8')],'Accept-Encoding':lIilIlil[i1iIilII(0x282,'$%Ed')]},'body':body,'timeout':0x7530})[i1iIilII(0x27f,'rrDr')](async IiIili1=>{const iII1iI=i1iIilII;if(IiIili1['response']){if(iII1iI(0x18b,'2WBI')!==lIilIlil[iII1iI(0x1d8,'Zt^1')])console['log']('🚫\x20getToken\x20API请求失败\x20➜\x20Response\x20code\x20'+(IiIili1[iII1iI(0x1f6,'l9[k')]['statusCode']||'')+'\x20('+(IiIili1['response']['statusMessage']||'')+')'),lIilIlil['JzvJb'](IiIili1[iII1iI(0x1f3,'5eRp')]['statusCode'],0x193)&&($[iII1iI(0x25f,'q$he')]=!![]);else{let IIIllIll=i1ilIl1i['exec'](IiIllII1);if(IIIllIll&&IIIllIll['length']>0x0)return IIIllIll[0x0][iII1iI(0x236,'rrDr')]();return'';}}else IiIili1[iII1iI(0x26b,'gwj5')][iII1iI(0x276,'LSKo')]?lIilIlil[iII1iI(0x1a0,'@3bj')]===lIilIlil[iII1iI(0x21e,'q$he')]?i1ii1iI['log'](iII1iI(0x197,'l9[k')+lIilIlil[iII1iI(0x25e,'EU@#')](Ilil1Il1,'')+'\x0a'):console['log'](iII1iI(0x26d,'bh((')+(IiIili1['response'][iII1iI(0x289,'nfrU')]||'')+'\x0a'):console['log'](iII1iI(0x298,'lJ*@')+lIilIlil[iII1iI(0x216,'oo9j')](IiIili1,'')+'\x0a');});if(il11ll1I&&lIilIlil[i1iIilII(0x22b,'@3bj')](typeof il11ll1I,lIilIlil[i1iIilII(0x1df,'q$he')])){if(il11ll1I['body']){if(lIilIlil[i1iIilII(0x295,'Uqup')]===lIilIlil['HoRdb']){let llill1il=JSON[i1iIilII(0x1d2,'GjW2')](il11ll1I[i1iIilII(0x289,'nfrU')]);if(lIilIlil['PAQUA'](llill1il['code'],'0'))lIilIlil['vygsD']!==lIilIlil['vygsD']?(iii1Il1=iII1lilI[i1iIilII(0x1b7,'XFzV')],IliiIllI['log'](i1iIilII(0x1d9,'xdlP')+i1IiIi),l1i111II['put'](l11li1II,IIIIl,IlI11I1)):(token=llill1il['token'],console[i1iIilII(0x1d7,'xdlP')](i1iIilII(0x1d9,'xdlP')+token),llIil1li['put'](Ii1iIiI1,token,Iii1I1Ii));else lIilIlil[i1iIilII(0x213,'Uh%[')](llill1il[i1iIilII(0x219,'q$he')],'3')&&lIilIlil[i1iIilII(0x24c,'wzgD')](llill1il['errcode'],0x108)?lIilIlil[i1iIilII(0x22c,'XFzV')]!==lIilIlil['JgMhA']?(console['log']('🚫\x20getToken\x20API请求失败\x20➜\x20账号无效'),$[i1iIilII(0x233,'WjVl')]=!![]):(l1111ii[i1iIilII(0x253,'^Qs(')]('🚫\x20getToken\x20API请求失败\x20➜\x20Response\x20code\x20'+(lilIIlil[i1iIilII(0x26c,'yLy&')][i1iIilII(0x238,'w[wP')]||'')+'\x20('+(il11i1li[i1iIilII(0x1f3,'5eRp')][i1iIilII(0x19a,'Uqup')]||'')+')'),ii1lllIl[i1iIilII(0x17f,'soni')][i1iIilII(0x1b5,'QMPC')]==0x193&&(l1IlIiil[i1iIilII(0x23d,'^Qs(')]=!![])):console[i1iIilII(0x287,'bh((')]('🚫\x20getToken\x20API接口返回异常\x20➜\x20'+JSON['stringify'](llill1il));}else{iIIl1ilI=!![],lIilIlil[i1iIilII(0x1c0,'EU@#')](lI1iI111,lIilIlil[i1iIilII(0x1e8,'^Qs(')]);if(llillII1){lIii111i[i1iIilII(0x19b,'Uqup')](i1iIilII(0x207,'uZRU')),lliIIli[i1iIilII(0x1dc,'jfmL')](lIilIlil['KcvaV'](lIilIlil[i1iIilII(0x24a,'QMPC')],iiil1iI1)+'\x0a');let iiI1i11I=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/g;IIi1l1il[i1iIilII(0x1f8,'oo9j')][i1iIilII(0x260,'nfrU')]=iiI1i11I[i1iIilII(0x192,'EU@#')](ll1l11iI)[0x0]+','+(lIllil[i1iIilII(0x185,'jfmL')]||lIilIlil[i1iIilII(0x1cf,'Njgo')])+','+llIIIlI;}else{if(I1iIiIli)l11ilI1[i1iIilII(0x1aa,'6W1N')][i1iIilII(0x1ea,'a5cX')]=lIiIIil1,iii1l1lI[i1iIilII(0x263,'LSKo')][i1iIilII(0x297,'Is$U')]=(i1111il1[i1iIilII(0x234,'Uqup')]||lIilIlil[i1iIilII(0x1e9,'[kJo')])+','+liIiI11,iI1iII[i1iIilII(0x1fa,'l9[k')](i1iIilII(0x220,'xdlP')),IIiilIiI[i1iIilII(0x1ff,'[[kL')](lIilIlil[i1iIilII(0x1db,'gwj5')](lIilIlil[i1iIilII(0x1a1,'Uqup')](lIilIlil[i1iIilII(0x20e,'Njgo')],illll1ii['GLOBAL_AGENT']['HTTP_PROXY']),'\x0a'));else{lli11I1i[i1iIilII(0x23c,'gwj5')](lIilIlil[i1iIilII(0x1fd,'l9[k')]),lIlIiIl['log'](lIilIlil['AMKjO']),I11iIli1[i1iIilII(0x1a4,'EU@#')](lIilIlil[i1iIilII(0x1cb,'a5cX')]),lilIllII[i1iIilII(0x1fe,'Jl^i')](lIilIlil[i1iIilII(0x1cd,'WjVl')]);return;}}}}else console['log'](i1iIilII(0x1f2,'6W1N'));}}else li1i1IlI[i1iIilII(0x19e,'BSKX')](i1iIlIi[iliI1Il1]);}catch(I1I1il1){console['log']('🚫\x20getToken\x20API在处理请求时遇到了错误');}else l11l1IIi[i1iIilII(0x269,'a5cX')]=!![];}else console[i1iIilII(0x184,'p(q$')]('🚫\x20getToken\x20API请求错误\x20➜\x20签名获取失败');}else lIilIlil[i1iIilII(0x1d3,'oo9j')](lII1lII1);}else console[i1iIilII(0x287,'bh((')](i1iIilII(0x285,'q$he'));}return token;}function I11liIll(){const Il111lI=liIll1Ii,IiI1III1={'LVkBw':Il111lI(0x279,'6W1N'),'xZozH':Il111lI(0x1d6,'yZ)6'),'aCtGu':Il111lI(0x21d,'QMPC'),'fUEVG':function(ilIlI1il,li1IllII){return ilIlI1il!==li1IllII;},'zvPPr':Il111lI(0x1d5,'@3bj'),'zvduu':function(iiiI1i1,Ili1il1l){return iiiI1i1+Ili1il1l;},'Orabr':Il111lI(0x273,'nfrU'),'gBkmp':function(l11l1iI1,I111iIl1){return l11l1iI1===I111iIl1;},'BATnj':Il111lI(0x28c,'K]^U'),'NGNJI':Il111lI(0x21f,'lJ*@'),'gmESk':function(ii1i1){return ii1i1();},'VfSDF':Il111lI(0x292,'wzgD')};return new Promise(async lIiI11I=>{const I1illiiI=Il111lI,iI1lIliI={'ajJWn':I1illiiI(0x28f,'rrDr'),'ygVCG':I1illiiI(0x258,'^Qs('),'mjZtb':IiI1III1[I1illiiI(0x1e7,'Njgo')]};$['get']({'url':IIlii11i,'timeout':{'request':0x1388}},(i1lIi1li,lIIIIIii)=>{const iilI1il=I1illiiI,ll1Ill11={'SXzxF':IiI1III1['LVkBw'],'dYPRc':IiI1III1[iilI1il(0x208,'wzgD')]};if(IiI1III1[iilI1il(0x217,'NbY*')]===iilI1il(0x1fb,'soni')){if(lIIIIIii)try{if(IiI1III1['fUEVG'](IiI1III1['zvPPr'],'eQKCF')){let lii11lil=/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}:[1-9]\d*/g,I1ilI1I=lii11lil[iilI1il(0x192,'EU@#')](lIIIIIii['body']);ill1II1I=I1ilI1I[0x0],global[iilI1il(0x240,'EU@#')][iilI1il(0x28a,'oo9j')]=IiI1III1[iilI1il(0x277,'Uh%[')](IiI1III1[iilI1il(0x224,'yZ)6')],ill1II1I);}else iIllI[iilI1il(0x1ce,'YwqD')](iilI1il(0x22d,'[[kL')+(IiliiII[iilI1il(0x250,'p(q$')][iilI1il(0x24b,'K]^U')]||'')+'\x0a');}catch(llIili1){}finally{if(IiI1III1[iilI1il(0x271,'nfrU')](IiI1III1[iilI1il(0x203,'yZ)6')],IiI1III1[iilI1il(0x245,'QMPC')])){Il1I1l1I[iilI1il(0x1e4,'BSKX')](iilI1il(0x1c1,'yLy&')),IIl1l1li[iilI1il(0x26f,'6W1N')](iI1lIliI[iilI1il(0x18d,'2WBI')]),lIIliIil['log'](iI1lIliI[iilI1il(0x1ae,'gwj5')]),lIi11Iil[iilI1il(0x231,'uZRU')](iI1lIliI[iilI1il(0x280,'soni')]);return;}else IiI1III1[iilI1il(0x1a5,'Njgo')](lIiI11I);}}else i11Ili=[l1il1Il['getdata']('CookieJD'),iliillIl[iilI1il(0x188,'uZRU')](ll1Ill11[iilI1il(0x26e,'*tK8')]),...Il111I11(l111ill1[iilI1il(0x27b,'a5cX')](ll1Ill11[iilI1il(0x18f,'%$pC')])||'[]')[iilI1il(0x286,'LSKo')](Ii1IIIii=>Ii1IIIii[iilI1il(0x261,'Jl^i')])]['filter'](IliIlll1=>!!IliIlll1);});});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
