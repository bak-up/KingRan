/*
京东11.11全民大乐透

cron "55 20 * * *" script-path=jd_lotteryMachine.js, tag=京东11.11全民大乐透

 */
const $ = new Env('京东11.11全民大乐透')
var version_='jsjiami.com.v7';const Ill111=iii1II;(function(I1iI1I,illll1,IIIIl1,liiilI,lI111l,liiii1,IIiiIl){return I1iI1I=I1iI1I>>0x3,liiii1='hs',IIiiIl='hs',function(l1ilIl,IIiiIi,l1ilIi,l11iIi,ll11li){const I1lII1=iii1II;l11iIi='tfi',liiii1=l11iIi+liiii1,ll11li='up',IIiiIl+=ll11li,liiii1=l1ilIi(liiii1),IIiiIl=l1ilIi(IIiiIl),l1ilIi=0x0;const iliIlI=l1ilIl();while(!![]&&--liiilI+IIiiIi){try{l11iIi=parseInt(I1lII1(0x244,'@4kr'))/0x1+-parseInt(I1lII1(0x1e2,'Q5&6'))/0x2+parseInt(I1lII1(0x1f2,'8cYA'))/0x3*(parseInt(I1lII1(0x268,'0Ic0'))/0x4)+parseInt(I1lII1(0x1ee,'W*Ey'))/0x5*(parseInt(I1lII1(0x279,'Q]pp'))/0x6)+parseInt(I1lII1(0x2a1,'nlZT'))/0x7+parseInt(I1lII1(0x1f3,'dPe6'))/0x8+-parseInt(I1lII1(0x1fd,'%ep3'))/0x9;}catch(lI111I){l11iIi=l1ilIi;}finally{ll11li=iliIlI[liiii1]();if(I1iI1I<=liiilI)l1ilIi?lI111l?l11iIi=ll11li:lI111l=ll11li:l1ilIi=ll11li;else{if(l1ilIi==lI111l['replace'](/[NlXSLOhuUKQBfTVeAnDk=]/g,'')){if(l11iIi===IIiiIi){iliIlI['un'+liiii1](ll11li);break;}iliIlI[IIiiIl](ll11li);}}}}}(IIIIl1,illll1,function(IlilI,llIi1,IliIII,II1l,liiiiI,II1i,illli1){return llIi1='\x73\x70\x6c\x69\x74',IlilI=arguments[0x0],IlilI=IlilI[llIi1](''),IliIII=`\x72\x65\x76\x65\x72\x73\x65`,IlilI=IlilI[IliIII]('\x76'),II1l=`\x6a\x6f\x69\x6e`,(0x1469b2,IlilI[II1l](''));});}(0x618,0x9e7b4,Iii11l,0xc5),Iii11l)&&(version_=Ill111(0x2cd,'%V@w'));const I1il1i=$[Ill111(0x1cf,'9BwK')]()?require(Ill111(0x1c9,'z0ZE')):'',IliIIi=$[Ill111(0x25a,'yeH%')]()?require(Ill111(0x260,'DW3V')):'',lI1l1i=require('./function/krgetH5st'),i1iil=require('./function/jdCommon');let llI11l=!![],I1llIl='p_HAvgmOZnWOyRb-2ZJkVA',i1iii=process['env'][Ill111(0x314,'f(@^')]?process['env']['jd_ttlhb_num']:'1',I1llIi=[],IIii1I='',llI11i;if($[Ill111(0x29a,'FIOL')]()){Object['keys'](IliIIi)['forEach'](Ii1iil=>{I1llIi['push'](IliIIi[Ii1iil]);});if(process[Ill111(0x288,'nlZT')][Ill111(0x1ae,'BQon')]&&process[Ill111(0x34c,'%7^n')][Ill111(0x1bd,'swEB')]===Ill111(0x282,'Q]pp'))console['log']=()=>{};}else I1llIi=[$[Ill111(0x296,'z(sC')](Ill111(0x24d,'swEB')),$[Ill111(0x207,'N&gR')]('CookieJD2'),...I11i1I($[Ill111(0x29e,'r*gB')](Ill111(0x2b3,'uHQ%'))||'[]')[Ill111(0x2dc,'3lQ4')](Ilil1i=>Ilil1i['cookie'])][Ill111(0x239,'kdqn')](iili1=>!!iili1);!(async()=>{const I1iI11=Ill111,II11ii={'SxLSk':I1iI11(0x2a2,'uHQ%'),'lNkFc':'https://bean.m.jd.com/bean/signIndex.action','qDJfM':function(Iil1iI,II11il){return Iil1iI<II11il;},'dhBvD':I1iI11(0x21f,'uHQ%'),'HiVHn':'fuEtB','BTfyF':function(iIIil1,IlllII){return iIIil1+IlllII;},'YDzpR':function(I1il1I,II111){return I1il1I+II111;},'JZASy':I1iI11(0x365,'DTEU'),'FKgdJ':function(lI1l1I,lill11){return lI1l1I(lill11);},'OYufK':function(liI1i1){return liI1i1();},'vGbwo':function(I11i11,I1llII,Iil1il){return I11i11(I1llII,Iil1il);},'SKaFQ':function(I11i1i,l1l1iI){return I11i1i+l1l1iI;},'MJMSj':function(I1llI1,I11i1l){return I1llI1*I11i1l;}};if(!I1llIi[0x0]){$[I1iI11(0x234,'WL29')]($['name'],II11ii[I1iI11(0x33f,'4LN$')],II11ii['lNkFc'],{'open-url':I1iI11(0x2cf,'z0ZE')});return;}for(let il1il=0x0;II11ii[I1iI11(0x281,'r*gB')](il1il,I1llIi[I1iI11(0x315,'bB@2')]);il1il++){if(I1llIi[il1il]){if(II11ii[I1iI11(0x213,'8cYA')]===II11ii['HiVHn'])llIIli[I1iI11(0x326,'g%8u')](I1iI11(0x320,'%ep3')+(lIII1I?.[I1iI11(0x1e7,'#wYO')]||''));else{IIii1I=I1llIi[il1il],$[I1iI11(0x325,'%V@w')]=decodeURIComponent(IIii1I['match'](/pt_pin=([^; ]+)(?=;?)/)&&IIii1I[I1iI11(0x333,'672a')](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[I1iI11(0x226,'uHQ%')]=II11ii[I1iI11(0x1c1,'5su1')](il1il,0x1),$[I1iI11(0x1e4,'rD^f')]=!![],$[I1iI11(0x1f0,'5su1')]='',llI11i='',console[I1iI11(0x258,'j6uL')](I1iI11(0x1db,'6[d7')+$['index']+'】'+($[I1iI11(0x2c4,'Q]pp')]||$[I1iI11(0x1d9,'MR2h')])+I1iI11(0x2f1,'uHQ%'));if(!$[I1iI11(0x364,'MX2X')]){$[I1iI11(0x339,'672a')]($[I1iI11(0x34b,'RX)L')],I1iI11(0x265,'9BwK'),'京东账号'+$[I1iI11(0x347,'z(sC')]+'\x20'+($['nickName']||$[I1iI11(0x208,'Q]pp')])+I1iI11(0x2fc,'9BwK'),{'open-url':II11ii['lNkFc']});$[I1iI11(0x331,'j6uL')]()&&await I1il1i['sendNotify']($[I1iI11(0x2eb,'Ql1E')]+I1iI11(0x310,'672a')+$['UserName'],I1iI11(0x2af,'yeH%')+$[I1iI11(0x311,'MX2X')]+'\x20'+$[I1iI11(0x2d6,'*JGC')]+'\x0a请重新登录获取cookie');continue;}$[I1iI11(0x343,'z(sC')]=II11ii[I1iI11(0x205,'WL29')](II11ii[I1iI11(0x262,'5su1')],II11ii[I1iI11(0x34f,'4oKX')](il1l1,I1iI11(0x1d4,'DW3V'))),$['UA']=i1iil[I1iI11(0x2c7,'z0ZE')]($['UserName']),await II11ii['OYufK'](i1iIi1),await $[I1iI11(0x1fe,'j6uL')](II11ii[I1iI11(0x31a,'%7^n')](parseInt,II11ii[I1iI11(0x1cd,'MX2X')](II11ii[I1iI11(0x236,'%ep3')](Math[I1iI11(0x218,'@4kr')](),0x3e8),0x7d0),0xa));}}}})()['catch'](iIIili=>{const II11=Ill111;$[II11(0x25e,'Q]pp')]('','❌\x20'+$[II11(0x2c1,'2iDk')]+II11(0x2bf,'0Ic0')+iIIili+'!','');})[Ill111(0x1f8,'yeH%')](()=>{const l1ilII=Ill111;$[l1ilII(0x251,'CVd[')]();});async function i1iIi1(){const ii1II1=Ill111,Ii1iiI={'SLzmb':function(Ilil1I,iliIiI){return Ilil1I==iliIiI;},'YaEbg':ii1II1(0x276,'Q]pp'),'EvBsk':function(II11iI){return II11iI();},'bmQil':function(Il1i1l,Iil1ii,lill1I){return Il1i1l(Iil1ii,lill1I);},'ClrAi':function(Ii1ii1,Ilil11){return Ii1ii1+Ilil11;},'cVVuR':function(i1ii1,il1ii){return i1ii1*il1ii;},'sTpYo':function(llI111,i1iIiI){return llI111===i1iIiI;},'kzwCg':ii1II1(0x219,'nlZT'),'LTtGO':function(IlllI1,I1il11,lI1l11){return IlllI1(I1il11,lI1l11);},'OlqpR':function(II11l,II11i){return II11l+II11i;},'lWpsm':function(iI1Iii,liI1ii){return iI1Iii*liI1ii;},'iiWLz':function(lIIiIl,iI1Iil){return lIIiIl<iI1Iil;},'kthaW':function(il1iI,i1iIii,i1iIil){return il1iI(i1iIii,i1iIil);},'yhMII':function(liI1il,llIlIi){return liI1il+llIlIi;}};$[ii1II1(0x306,'kdqn')]=![],$[ii1II1(0x278,'Y@1g')]=![],$[ii1II1(0x2b1,'%V@w')]=0x0,await Ii1iiI['EvBsk'](iliIi1),await $[ii1II1(0x1ba,'MR2h')](Ii1iiI[ii1II1(0x1a7,'3lQ4')](parseInt,Ii1iiI[ii1II1(0x2a8,'@4kr')](Ii1iiI[ii1II1(0x32c,'*JGC')](Math[ii1II1(0x340,'8cYA')](),0x3e8),0x3e8),0xa));if($['nowcontinue']){if(Ii1iiI[ii1II1(0x30c,'BQon')](ii1II1(0x33c,'Ql1E'),Ii1iiI[ii1II1(0x302,'o^mH')])){if(Ii1iiI[ii1II1(0x292,'swEB')](typeof ill111[ii1II1(0x31f,'bB@2')](Iliil1),Ii1iiI[ii1II1(0x2d1,'rD^f')]))return!![];}else{await Ii1iiI[ii1II1(0x20e,'8cYA')](Il1i1I),await $[ii1II1(0x277,'WmSQ')](Ii1iiI['LTtGO'](parseInt,Ii1iiI['OlqpR'](Ii1iiI['lWpsm'](Math[ii1II1(0x1f5,'WL29')](),0x3e8),0x3e8),0xa));for(let II11I=0x0;Ii1iiI[ii1II1(0x2a7,'UUo7')](II11I,$['lotteryChances']);II11I++){await l1l1ii(),await $[ii1II1(0x1b2,'FIOL')](Ii1iiI['kthaW'](parseInt,Ii1iiI[ii1II1(0x287,'dPe6')](Math[ii1II1(0x340,'8cYA')]()*0x3e8,0x3e8),0xa));}}}}function l1l1il(il1i1){const iliIll=Ill111,lIIiIi={'mTFTJ':function(liI1iI){return liI1iI();},'JgJzk':function(iI1Il1,i1iIl1){return iI1Il1==i1iIl1;},'LYFsh':iliIll(0x253,'^*Sl'),'ecYtC':iliIll(0x2e6,'j6uL'),'Jwtpj':function(i1lli1,llIlII){return i1lli1===llIlII;},'ajvbr':iliIll(0x300,'bB@2'),'jRxtk':function(IIlII,lIIiII){return IIlII!==lIIiII;},'kgfml':'cdKPN','CzMqF':'WRvww'};try{if(lIIiIi['ecYtC']==='mhVpY'){if(typeof JSON[iliIll(0x301,'Y@1g')](il1i1)==lIIiIi['LYFsh'])return lIIiIi[iliIll(0x353,'g%8u')](iliIll(0x298,'N&gR'),lIIiIi['ajvbr'])?!![]:lIIil1[iliIll(0x1b5,'8cYA')](IIli1);}else lIIiIi['mTFTJ'](ii1l1);}catch(liI1lI){if(lIIiIi['jRxtk'](lIIiIi[iliIll(0x212,'CVd[')],lIIiIi['CzMqF']))return console[iliIll(0x341,'%ep3')](liI1lI),console[iliIll(0x35a,'swEB')](iliIll(0x235,'0Ic0')),![];else try{if(lIIiIi[iliIll(0x2d7,'*JGC')](typeof li1I1[iliIll(0x348,'p9j1')](i1ilil),lIIiIi[iliIll(0x2ec,'dPe6')]))return!![];}catch(ll1I1){return iIIl1l['log'](ll1I1),llIli1[iliIll(0x2ab,'MX2X')]('京东服务器访问数据为空，请检查自身设备网络情况'),![];}}}function I11i1I(Ii1ili){const llliIl=Ill111,iI1Ii1={'aaHNn':llliIl(0x308,'FIOL'),'TEtWB':function(Ii1ill,llIlI1){return Ii1ill!==llIlI1;},'yLWPH':'BxIPx','HvqDO':llliIl(0x2d2,'W*Ey')};if(typeof Ii1ili==iI1Ii1['aaHNn'])try{if(iI1Ii1['TEtWB'](iI1Ii1[llliIl(0x1ea,'DW3V')],iI1Ii1[llliIl(0x26f,'f(@^')]))return JSON[llliIl(0x204,'Q]pp')](Ii1ili);else I1ilIi[llliIl(0x256,'yeH%')](llliIl(0x2e7,'nlZT')+(IiiiI?.[llliIl(0x229,'r*gB')]||''));}catch(IIlI1){return console[llliIl(0x243,'bB@2')](IIlI1),$[llliIl(0x368,'dPe6')]($[llliIl(0x2e3,'dPe6')],'','请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie'),[];}}function Iii11l(){const IIiiII=(function(){return[...[version_,'DQjSXsQjeliAulaUOmihl.lVcoLUTmBB.Kkvfn7N==','AfqEbdTk','lmkZbftcNa','khP5nZ8p','W5DOWPxcTmo7W6JcVW','mmkxkSk1Eq','W5qTW4BcKCofiG','nCk2eCoSFa','WQ04W6C2W6K','W6yYW74GrdZdJmokdCk5hSkyWQy','ACotWO/cNG','W7NdNCoTaSo7','WOzWWOZdHG','smojcCozW4mtWQNdNNRdRJf8WQ4','WQRcNCkhW6iY','AalcMSohWO4','eCk0W53cKCkx','q3ekeay','WPtcL8k2q8klWPa','W7ldRuddI8kGyKe','nmkMW4RcKmk8uGxdMa','WRX7WRVdISk+','ySo8rgbDhv1ea8kfW4BcJW','5B6i5yMq5OMl5AEN5Q+g5PAe77+X','wmoHW7ZdRSkf','jdKNe8kY','tvFdVYxdSa','lCkgpmkKCq','k1fUhd0','zX9BBJW','WPpcTIxcIaW','BeNdVYddNW','dSkDsmkhWQDsW6/dJq','CZ54WPmUzSo3W5hdLKldLgpdMbi','W4LoWQZcVSoN','FCk1FSkeWQlcVSkhgwZcPHJcQSoHFSoJsqdcGb3dKd3dUCkYAZ1ZW7fgfmkxWO3cJa4','W44GDX7dQaG','W5vJihyd','WQddIH4','fCk0W5ZcICkHxb3dJ1DMWRtcTrS','W4NdVmoVbSoU','F8oysSolz8oUWO/dKmkCW5n8iMpdJmklWRFdMJX3drRdJGaLnSoOWRjoAxe9x8kU','WRHRWR11jG','WPv9WPhdUCkC','DCkRBCkeWR7cUCkdhG','FeddJJ3dJ8k/iNm','W6ePFamu','WOJcISk4FmkCWRzxgwu','W4zQzwfS','u1OXnXm','WOXXWOZdHSkt','xavkWQWy','W6DAoLSFWRldTSk+','h8kosCkHWObm','W7ddV8kV','B8oJDW','W5H2luNcVG','WOJcL8kICG','W5mQWQqEWR7dOSkCWRP2DwisEwLmf8owwmoBDKKPWOhcRKpdLY8Ffmo5W5b/WQS','W4hdMCoUp8oXWOSrWRVdHZldHCkJbCkBW6DEW6/cQCk4c8k/xSojW4FcN8oapSk+yCo2WO1pca','lI4ZaW','WRxcR8k1W6O8','gSk0gSk6uG','g8kwpmo+wq','D0yx','5lQW5lUz5PYd5yMj5zQJ6k2I6zsi5PsD5O2R5lUZ56Im776j6k285Qon5P2P6iEn6lQh6kYE5AwU57+K57Qz5Ogi5ysO','WPjaWOfbhG','WPRcK8oHWPO','W5VcL8kUAvKa','WRW8W64aW5OQ','W4GUsG7dTqZdI8oP','W5mivXG/','ymk8jMmz','W47cN8o/WPyl','WP0cW6yyW50','W7HSg0KB','jmk3W6xcLmkl','WPHLAmovkq','WRL5m2ve','khP5','WOrWke7cSLldRmoSW5FdMCk1WQa','W40IEq85','Ct/cL8oyWR0','WQDDfKf0z8oVw24xkmo0WOW','jG3dNha','mKftos8','hCkOo8onCW','jmkBoW','mmkdmCoGra','FmoTW5tdGmkHWO4hW6C','WP/cGSoLWPDhW6S7FJJcPSorW5hdKSkSWRnfWQDKbcSasKLwxCoKcHTHtfrUxa','5P6F6kYE5lUa5yMn5AEc6lsoWRm','WQ/dNZVcKCkDWRu','WPZcVI3cGa','W4rjx2vR','WO3dSSkWcSkDWOG','WQddJrThlKhdMG/dQ8oj','W7CSWRKrWPi','W51UWPW','WRCnWQCPpW','CSoDWOe','WQ5gqSoPnq','W5HYWRxcUSoZW6e','5A2c5OIf5lMI5yMr5AAm6lsLW7G','zX5BWOW7','WR3dVYVcPSk+','dCk6W4G','W6zWyhH5','BepdGNv6WRBcGheJWR0','WRdcImodimoW','WQjYzmoTiG','WRXLWQH3','W6NdKmoTb8ox','44kw5O6j56we44kpfGtcKmkgrXFLTidLPPZMLPq','WPXjvSovhX7cLZNcNCklBG','W4vGWOJcVSodW73cTSoA','lCo1pSkyWRNcSSkvgLq','WPK6W60FW5y9WQ/dPca','xSoHW4/dGSk+WOi5W4RdRcy7WOztW6VdPamvDsm','WR56W6RcHa','E8oAsmoQFCoQ','dmkPsmkRWOC','DWjFWOaF','WRBcHmoKWR9H','amk2W5VcI8kewHZdLffWWR7cTXVdVCoWhfb2AG','W7Tbhv8EW6hcT8o2zqedW7S2WPpdUGWUWP9BWP48uColaG','5OMF5lQ95l+c5Okp5yUg77+M','cXxdM0v2','WP9TmKbU','W6mkqqifpunmWRFcGG','dSk3W4xcH8krrW','W4u7WR0g','W5JcQSoaWOqrWRVdLvpcHCkpWOK','umoIWPJdLCohc1ZdK1bkWQFcIsu','l8kAfmkvimk9','DCoB5Awj6lAknYRLJ4pLMBZdOvq','W5e2eCoxpW','W5aUFG','W4/dGmk7W4KaWRG','imkakglcHNBcJWBcISoNW5r2DSoRW7LjjSoLzeZdGNbu','W4ZcPSkVvwe','c8k4CCkkWR4','b8k0W4pcKCkx','W79AhvSiWQNdOCkABbaeWRy+W44','WORdIZqeja','W4D2FKr1','bSkdfSkjsW','ncKAl8kb','W7zBhW','CSkgw8kQWPm','W6e8cSowqbJcIW','BbZcNmoNWQi'],...(function(){return[...['WRRcHHNcQHu','BCoJz2jbgg1igCkrW4O','W5aUBq7dOHFdNmonW7FdVCk9WOW/kW','fCkUeSoPqG','WRFcVmk5W7O7','WQNdI8opWQ9sW4W','BmooW4hdHSkQ','W4SOWP8cWPu','yqHdBH7cQ8oGWOfKW6tcLti','WRZcOmkWs8ko','CbFcSe/cGCk5WRu','BCogW4RdJ8kV','W4ddNhZdP8kJ','W7pdQMtdH8k4','ASo/xM5keW','pmkvl3NcSYxdJKdcICo9W552','lmkuomkAxa','E8oaWPtcP2u1','hCkzt8kiWPjFW74','WR3dJGVcOSkA','E8odr2PE','WQaeubXuW6RcQCkxudCtWQ8z','44o15O+p56Es44kY6kYC5ywA6iYY5y2j5lM/5lQw6lEK5y6e5lQFW7tdUMxdJdz5coEBKEAnTEs+JEExHCk6EqetW49E55UP5lIw5lIL566X5yQ/6iYj5y+f','yXpcT0dcPSkKWROlb8oigZS','W6HIWRbfWOzHW5FdT2hdO8kqW6BdMW','CCoTFMvbgW','WQddNmotWOvvW4m','BCklW74/oG','W78TAZVdRG','ALqcatLu','kHJdNgfkW6pdGdu6WQRcUmonWQhdKftdQmo0WOhdOSkEW6ZdLSoKW63cGCkTWOZdSCkoW6i+FM7dSSk8j2LbW4S1jCkbqNxdMSkIDSksudqiWPRdShVcOSo1W47dM8oflLhcRbJcJ1BcM3pdJcWLW7L6W5tcJda','W5lcISk7','Edr4WQ9+z8o6','prxdMdlcRa','WPdcJCkqqSkE','5lID5lID6lED5yYI','WR7dNmonWO5aW4G2','WReoWOCShCksWOVdTSkZWQbckmowua','WReoWPqDcSks','WQzWWOFdImkcD8o2W5xcLW','FCk1wSkjWRJcTSkIchhcQb/dQq','aCkAcSk/s8kZoCkflCkDWPVcTfaFeG/dU8o2Av4cnqBcGW','mmomWPG','WPtcImoxWQfp','WRHYWPNdMSkoWPe','WP3cMSk0zCkA','W5DiqhH2','W6VcKhG','W6NdUmk/mmkT','5y6K5yclla','W7OuWOuFWQ8','mmoL5As/6lEnW6RdVEwnUEwAJt/dQq','BLqdcWbEWOqK','b8kpe8kQ','W5pcT8ofWQOnWRi','W78FrHK/Ar8gWRxcHmkhWR15DupcSsW+W4HzcSoVW5Clg8oHyCkOW5BcL8ossZldQKOFW5VdGGq6rCo9CHldL8kdWQybid3dNgOBW5RcNmkIW59sW5zIW4r8W5uNW7HpW5bvW5CSWOddJmopWO3dVG','d8k8W4ZcICk8uGxdMa','hxn3mY4','WPZcSdFcHa','WQVdNmotWRDG','W61usmk7WOi','W4NdI8oGpSomW5fgkhuiq8oS','WRtcJ8kOW7Ku','W4eUWQyBWRNdPSkuWQHM','W7FcNmoaWOqO','WRCsWPKXgCknWPVcM8k4WQ5bzCoffa','WONcT8kVW6u8','WQtdJCojWPjsWPf8WPjJCfWaW4BcKmkKB8koxahcQmoGW6bMW4GZoYJcR8oeiSktW7vFmmkpsSonASoJW5NcQthcSq','W5ddMSoZaCoo','WQBcL8kAW4KE','g8khbfRcMW','W5/cHSkOtvWoW77dOwqKW67dRMNdG8o6g1m9kG','WQ9SW77cLSo/','fSktxa','WQ3cI8k0Dmk3WOndda','WRlcN8kBFmks','DSoSqmofrG','6i275y2V5lMg5yMddq','s8oofCoEW50B','W6LjFq','nmkAca','W7mkrGG','W7bjFvG','WOLWWO8','eCk0W53cG8kFqa','CtRcGmoeWPTW','WOZdSCk3cG','iYa6aW','W6mkqqiFpevBWQBcK8k9WQTW','W5eJqbddOa','C8oAWRdcMK8','5OIU5AwJ5Awy6lskqq','5OQJ5lQF77+856Qq5Rcc','WRZdHaSakq','h8kEfCoFtG','BtRcG8of','arGrfCkG','qc/cV8oKWQu','W7bJySkkWQqeWRVcQhq','oSkhg8kGsG','6k6/5yIl6zUt5OsD5z+DdSopuCkWW6BOVkJLHBFMOzxKVBpML67LHQhLRRhcHEw7UUIVJoMcU+I/MoIeO+ADM+wmLoInREwpSNbxW4tdR8ocWO4','W481W4lcICobomkVWRxdUCka','5AYm5OI25lU15yQnl+AjU+wLIoAVLUAvM++9TG','W57cSCodWPCnW6/cJHxcM8kiWOpcQJP3W5BdHJyPEmohnvHisSoBlmosvCoMWQZdPsWvW4DyvSkvq8obW6GnWQddNmkIymo3iZtdU8k4Dd7cSKz2WOFdMXJcLmoGW73dIwTlgCoYB0uEBInbCCkuW5i','WRP0W6RcM8o0BSkNomokW64','WOVcMXBcKaW','BZtcICoLWOzV','E8oRvmosxa','W4b4F8kiWQmgWPJcIG','W4lcPmoeWOWTWR3dJK3cV8ktWPJcOJO','W7ylWRytWQq','WPzgmNjd','WOZORQ7PHRpMLk7NMi7LVl7OJyJLJlSKgSkgW5NcRmonqHHQW4C+e8kkWQ7cONe7EK4bW4pdTCowdSkHaGvLWPBcH8o/WQ8QWQyoW5hdQSklor1HcCoCWOu','ESotWPlcIW','FeddJJ3dImkPj2tdIIrrWQOk','kCkelh7cNc/dGv3cK8o6W5u9A8kWWQbtF8kIzG3dK3iuaSoDWRzbFvVdHmoGW47cJW','eufwoI8','W4BcPmofWPqB','WRNcNmoclSoI','WQPHAmo1eG','WQLTFCoRea','W53cISk4qq','WQ4TW6OBW4S','dmkChNNcVa','Cmo4yMHaeq','lb7dJxbx','w8k/ymkFWQe','W7eMxZhdJa','WR1bW6NcQCos','xmoJWRZcPNa','6l+o5RkM5lUR5AEa5AwR772E5lI05lIZ6yog5RkA5P6G5OQi5yMGW7GLWQy','W4JdNCoQi8oRW5jFW6ddNI/dHmoOcSkEWQzDW63dO8kOqmkKrCklWPJcNSoao8k8ySk3W4qus8oKi8knW6ZdNmk1W77dNSkMW67cNCkLW6GuWOqJa1tcKCopW5xcQ8odW6pdPSoVW6/dUNCuxGq9sHWQWOhdLGRcTc1C','W6njyuDQWQpLT6ZLP4BMLAnmfSoW','W5FcI8k4qvi','BLqdcXbiWQaOCmoXW6C','AmknW44','WPtcLSokWO9AW6qYAa7cP8okWPm','khbWftKv','WQdcG8oydmoSW7nTWOhdGCksWOG','FvaebdvtWPu','zwtdHttdQq','WOZdK8kplCkM','DJ91Eai','WOrhqG','vSoTW4G','W4tdISo5cSoY','AvhdJtRdSSkLm2ldGc5QW7CmftZcHCk4WQ/cPXTzcSkXv8kaWRiAWRbaWQWgnSoL','nhrSasG','6i2O5y+C5lI35yQZwa','W5RcQSoq','CYjZEGC','W5RcHmkOrq','WOHVka'],...(function(){return['WOGsWPyQnSkbWP/dKa','WRDYWPe','r8ogWRBcI1G','W6v+FSkkWRKlWPZcQ2H3','nmkrp8oywa','iZZdULTR','W4vGWOJcVSorW63cQmowWQSMW6ZcSa','WPVcRSkhC8kR','W4NcJmkiAeS','u8kSDSkyWO4','WQTYWOxdHq','yIZcLSolWOy','D8obWQJcHxi3','WRP+WOldMmkrWP3cN8oIeCoBWR/cLdBcVCo/sSoiW5ldVq','W61hEK9R','nCkuhW','WRldQXVcVSk0','WO7cGmo8WOflW4S1zdFcOmoyWRddI8oSWQe','W7xcQSoyWOWxWRddKNdcRW','W5pcICoDWOyZ','W61vAq','W47cL8k1xK8KW6xdPMC+W5BdKgtdJ8oR','DrbGsWK','EI/cQ8oSWOi','W7NdP1m','W4erWPC7WRe','W4qtFJON','EKddKZldTmkR','WRnLWQS','WQ9LW6NcNmouy8k1kCorW7xcMHdcQCkOWRe/WOpcH8ozmf53u1mTsWBdQCorArTPW74','FrBcPq','W7RdVCozcSoq','wCoAWQRcVf0','W7PGghOB','FHZcOe7cMa','BSojsmouAW','W4GjlSoPhq','WQddIG0hkwZdJdZdPSogsqddIKa','W612FCkg','zrzH','dCkifSkQxa','WPBcSc7cGa','W5RdM8kVemkd','W4aCdCo5bW','WQT0WRJdJSkU','WObTWPRdRSkyDq','WPfQWOldGCkn','W5pcLSk7','44gj5OYR56wc44k+6k+H5ywc6i+R5y2k5lM35lMO6lEE5y625lMQW5edtmokvx4q55I85O2o5lY755sYkbFdNCovW4tcGoEyOUs6Sos4LoEUQEwiOUIoUUwpHa','FCowW7xdU8kl','DmkVAmkgWP0','W7tdPmk8bmk6WO5xtSkRW4m7WR5UWO1xW5NdOWRcG8krW5BdUIqykWtdRmkwWPOzbSoRx8klg8k2WOzCuCorW5VcQCof','WQXuW7VcPSoZ','u8oTW5W','EvOubq','W41FxxTv','uCk3W4SciG','W7fYymkpWQSaWRC','W43dMSo5','W4hdMCokmSoRWOm0WQRdMJZdGSoG','k389','WPyIW4WhW5y','6l6t5yAr6AEk6AgN5AEe6lwPWOW','W5FcLSkqs00oW6q','WOXJd05gnq','W5NcGmkOqeStW6S','W6FcJ3JdHmofW7hdKSkEhCkFFKm','idiW','CmkQAq','W5dcKSofWOSC','W5hdU8k+amkL','W6JdSCk7h8kDW40iba','o8kwkCogEG','W4ZdV3i','l8k2hmoLwG','5A2K5OI45lUE5yIFD+AlJowMLEATSEAwGo+/Ta','DCkQFq','AZb/WOWFFCo6W77dMW','WRz/WQ/dM8ka','WOrrW4BcTmo4qSkbgG','DGveWPeY','smoBxhDp','DSogWRZcOKy','DmoTExu','W5bXWQ/cTmoKW6/cISowWQS6W6dcSa','WQ/dNZVcG8kv','EeddJYxdVG','W5z8keKk','WRzUWPe','WQj6W63cHmoyCSkThSoqW7VcMLZcTmo2','WRX4WOldLCkgWOdcIG','WRVdHbah','WRD+WRHIbZFdLSkUkmkEfmk4WRtdH21Qhq5ufmkgx3S','W6BcPmkqC1i','DCogW6tdR8knWQKyW6q','cCkHW5VcKSkbcuFcKKrXWO7cOXldQSkQfXfUy8keWQBcRb0vp8kqe1OtWPqVb3H6W6tcGYRdQHXLW4dcHSk9WR8BnSkaWPNdPSoVW4zDcmkhW4NdVapdH8kuW4pdH3BcUuXKW6tcLJiBdCoxrdWbva','W7qevGW','WRZdMmopWOnmW5G','WQP8q8ohhq','WQNdLWS+p3K','ze8Jpfq','WRqMWPGRlq','zSokWP7cKM4QWOWdq0pdKu0OWQ5ZW7bEfxNcIa','WQDHW7ZcNCo0za','k8ojCSorv8oNWOy','qJjbFXC','W6lcLSooWODpW48DW5j1FfSx','rSkjW7GLlq','WRC3WRSmlW','WRu+W7C7W5C','W63cRSk9yNS','W6BdVeBdHSkVCuLJdG','W68QmmoXeq4','W5OmCr4B','hCkJgCoIyq','W45oDN56','zXpcTLJcHq','CXtdKgLbWQhcL2iYW7BdPSkFW73dNGldVCkIWPpdVSoiW7FdGCoXWRRcLmk0WPJdPCozW7SLCINcTCoVmsnqW7i5fCk8EWlcQSorc8kdEtvgWRddSr3cPmk0WRNdOmoop2tcHblcKKJcIMu','5OUW5lMS772n','CmkQESkCWQ7cR8kFigtcQH7dRmoLAmoivu3dLW','WRy6W6u','W7RdSCkRiSko','WPNdLHWbaN/dMbO','W4JdNCoQi8oRW5jFW6ddJY3dGSkIaSogW6juW63dQSkJa8oOs8kwW54','W5xcLgpdMSoAW6ZcSEw/VowMNUodIUs6Tos4KoI2N+wpKW','WRhcICorca','W6yGWQeQWPO','W6HlwKHG','W6faxef7','WOZcGSkTW4ixWQ4','WRtdKSo0WQTq','WPlcNmkSzSkOW5bgWRNdLXNdGmovkG','e8kWW4lcG8kBxtZdLfLMWPi','WPBcHCktW4qEWQbJ','qKyEesm','WPP8WQfXmq','EIn+WQO4CW','j8kJdSk/xq','rrrCWP4b','oYddV0fX','WRJdMmooWOL1W4iNW5fK','CZ5R','W5BcKCkgBhO','FCkvfgtcRcBdIa','W5q1BqRdTf/cISkHW6/dRSk8WOS/lSkJgdNcHGNcHd9lWO8','WOzbrSovfrdcRJu','WOJcUmkTW4CD','orlcJg7cRSo1oLFdNcTXWRO','F3zLv8oXou7cImkQobG/WOC','W4VdICoOnCoaW5mFj1qKt8o0WQC'];}())];}())];}());Iii11l=function(){return IIiiII;};return Iii11l();};function iii1II(_0x97784d,_0x774953){const _0x207839=Iii11l();return iii1II=function(_0x21b9e1,_0x2835ab){_0x21b9e1=_0x21b9e1-0x1a6;let _0x5762ca=_0x207839[_0x21b9e1];if(iii1II['FlBZFN']===undefined){var _0x4ff689=function(_0x1f3a8b){const _0x384965='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x87a0be='',_0x1854e2='';for(let _0x37084f=0x0,_0x3c2653,_0x22b9f7,_0x59238a=0x0;_0x22b9f7=_0x1f3a8b['charAt'](_0x59238a++);~_0x22b9f7&&(_0x3c2653=_0x37084f%0x4?_0x3c2653*0x40+_0x22b9f7:_0x22b9f7,_0x37084f++%0x4)?_0x87a0be+=String['fromCharCode'](0xff&_0x3c2653>>(-0x2*_0x37084f&0x6)):0x0){_0x22b9f7=_0x384965['indexOf'](_0x22b9f7);}for(let _0x4785e1=0x0,_0x6306b7=_0x87a0be['length'];_0x4785e1<_0x6306b7;_0x4785e1++){_0x1854e2+='%'+('00'+_0x87a0be['charCodeAt'](_0x4785e1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1854e2);};const _0xed0721=function(_0x36e78a,_0x18d628){let _0x3e0ae4=[],_0x3f84bd=0x0,_0x2241fb,_0x392b8f='';_0x36e78a=_0x4ff689(_0x36e78a);let _0x2ce8e7;for(_0x2ce8e7=0x0;_0x2ce8e7<0x100;_0x2ce8e7++){_0x3e0ae4[_0x2ce8e7]=_0x2ce8e7;}for(_0x2ce8e7=0x0;_0x2ce8e7<0x100;_0x2ce8e7++){_0x3f84bd=(_0x3f84bd+_0x3e0ae4[_0x2ce8e7]+_0x18d628['charCodeAt'](_0x2ce8e7%_0x18d628['length']))%0x100,_0x2241fb=_0x3e0ae4[_0x2ce8e7],_0x3e0ae4[_0x2ce8e7]=_0x3e0ae4[_0x3f84bd],_0x3e0ae4[_0x3f84bd]=_0x2241fb;}_0x2ce8e7=0x0,_0x3f84bd=0x0;for(let _0x36d7ff=0x0;_0x36d7ff<_0x36e78a['length'];_0x36d7ff++){_0x2ce8e7=(_0x2ce8e7+0x1)%0x100,_0x3f84bd=(_0x3f84bd+_0x3e0ae4[_0x2ce8e7])%0x100,_0x2241fb=_0x3e0ae4[_0x2ce8e7],_0x3e0ae4[_0x2ce8e7]=_0x3e0ae4[_0x3f84bd],_0x3e0ae4[_0x3f84bd]=_0x2241fb,_0x392b8f+=String['fromCharCode'](_0x36e78a['charCodeAt'](_0x36d7ff)^_0x3e0ae4[(_0x3e0ae4[_0x2ce8e7]+_0x3e0ae4[_0x3f84bd])%0x100]);}return _0x392b8f;};iii1II['UuULTh']=_0xed0721,_0x97784d=arguments,iii1II['FlBZFN']=!![];}const _0x5807d6=_0x207839[0x0],_0x303e00=_0x21b9e1+_0x5807d6,_0x5c45e5=_0x97784d[_0x303e00];return!_0x5c45e5?(iii1II['RiyahQ']===undefined&&(iii1II['RiyahQ']=!![]),_0x5762ca=iii1II['UuULTh'](_0x5762ca,_0x2835ab),_0x97784d[_0x303e00]=_0x5762ca):_0x5762ca=_0x5c45e5,_0x5762ca;},iii1II(_0x97784d,_0x774953);}async function iliIi1(){const iliIli=Ill111,i1iIli={'XALWx':function(i1iIll,i1lliI){return i1iIll===i1lliI;},'AEXUK':function(liI1l1,IllIlI){return liI1l1+IllIlI;},'IysTO':function(IiillI,ili11I){return IiillI==ili11I;},'YfiAc':function(li11l,lliiIl){return li11l===lliiIl;},'fYcbF':function(li11i){return li11i();},'psmRV':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','gaqgR':iliIli(0x1c3,'%7^n'),'fbPhy':'lotteryMachineHome','yrKpB':iliIli(0x332,'g%8u'),'MgFKK':iliIli(0x27a,'p9j1'),'eBFzX':iliIli(0x1ab,'0Ic0'),'RdIYi':iliIli(0x271,'nlZT'),'FnMwh':'https://prodev.m.jd.com','ZEPyJ':iliIli(0x2aa,'DW3V'),'EzFUd':'application/x-www-form-urlencoded','rdyxI':iliIli(0x217,'0Ic0')};return new Promise(async lliiIi=>{const ii1III=iliIli,iiIi1I={'PjVCF':function(iiIi11,ill1II){const illliI=iii1II;return i1iIli[illliI(0x273,'DW3V')](iiIi11,ill1II);},'rmUAw':ii1III(0x1e0,'rD^f'),'YtPaN':i1iIli[ii1III(0x2d0,'Q5&6')]},IllIl1={'appId':i1iIli[ii1III(0x21e,'%ep3')],'functionId':i1iIli[ii1III(0x299,'N&gR')],'appid':i1iIli[ii1III(0x293,'WmSQ')],'clientVersion':i1iIli[ii1III(0x30b,'@4kr')],'client':i1iIli['eBFzX'],'body':{'linkId':I1llIl,'taskId':'','inviter':''},'version':ii1III(0x1a8,'CVd['),'ua':$['UA'],'t':!![]},ll1Ii=await lI1l1i['getH5st'](IllIl1);let ll1Il={'url':i1iIli['RdIYi'],'body':ll1Ii[ii1III(0x250,'6[d7')],'headers':{'origin':i1iIli[ii1III(0x284,'MR2h')],'Referer':i1iIli[ii1III(0x1e9,'#wYO')],'User-Agent':$['UA'],'Cookie':IIii1I,'content-type':i1iIli[ii1III(0x29c,'2iDk')],'accept':i1iIli[ii1III(0x246,'Ql1E')]},'timeout':0x14*0x3e8};$['post'](ll1Il,async(i1llil,i1llii,l1i1I1)=>{const i11iIl=ii1III;try{if(i1iIli[i11iIl(0x1bc,'MX2X')]('KywRm',i11iIl(0x2ca,'rD^f'))){if(i1llil)console[i11iIl(0x24b,'W*Ey')](i1iIli[i11iIl(0x304,'5su1')]('',JSON[i11iIl(0x1ce,'N&gR')](i1llil)));else{l1i1I1=JSON[i11iIl(0x1d3,'z(sC')](l1i1I1);if(i1iIli[i11iIl(0x264,'Q5&6')](l1i1I1[i11iIl(0x305,'MX2X')],0x0))$[i11iIl(0x28d,'FIOL')]=!![],$[i11iIl(0x215,'#wYO')]=l1i1I1?.['data']?.[i11iIl(0x316,'o^mH')],console['log'](i11iIl(0x20b,'g%8u')+$[i11iIl(0x283,'nlZT')]);else l1i1I1['code']==0x192?console['log']('进入首页失败,'+(l1i1I1?.[i11iIl(0x352,'uHQ%')]||'')):console[i11iIl(0x369,'0Ic0')](i11iIl(0x363,'W*Ey')+(l1i1I1?.[i11iIl(0x238,'MX2X')]||''));}}else{if(iiIi1I['PjVCF'](typeof I1lll1,iiIi1I['rmUAw']))try{return Iliili['parse'](Iliill);}catch(llIIii){return I1llil[i11iIl(0x22b,'FIOL')](llIIii),I1llii['msg'](lilIll['name'],'',iiIi1I[i11iIl(0x327,'j6uL')]),[];}}}catch(Ii1I1i){$['logErr'](Ii1I1i,i1llii);}finally{i1iIli[i11iIl(0x2c5,'bB@2')]('YLpgM',i11iIl(0x1d8,'4oKX'))?iiilli['log'](l1iIIl):i1iIli['fYcbF'](lliiIi);}});});}async function l1l1ii(){const ll11ll=Ill111,Ii1I1l={'RLHPW':function(IIlIl,ili11l){return IIlIl|ili11l;},'Mkvtl':function(Iiilll,Iiilli){return Iiilll|Iiilli;},'ZTGYH':function(IIlIi,ili11i){return IIlIi+ili11i;},'ICJlZ':function(iiIi1l,li11I){return iiIi1l==li11I;},'DXaMw':ll11ll(0x32a,'DW3V'),'RDqdg':function(lliiII,iiIi1i){return lliiII===iiIi1i;},'LcvrS':'eFYBU','fWrlb':ll11ll(0x29f,'6[d7'),'GhLVK':ll11ll(0x1ad,'g%8u'),'BBwdY':function(liI1ll){return liI1ll();},'JYjAE':ll11ll(0x358,'4oKX'),'vUsGt':ll11ll(0x22c,'@4kr'),'wiTLa':ll11ll(0x270,'Q]pp'),'YMFqg':'12.2.0','CtQDQ':ll11ll(0x271,'nlZT'),'XVKDe':'https://prodev.m.jd.com','BWZOu':ll11ll(0x22e,'WmSQ'),'wmeBV':'application/json,\x20text/plain,\x20*/*'};return new Promise(async ll1II=>{const l11iIl=ll11ll,IllIii={'eCnuR':l11iIl(0x355,'3lQ4'),'pMMkr':Ii1I1l[l11iIl(0x231,'rD^f')]},liI1li={'appId':Ii1I1l[l11iIl(0x26d,'r*gB')],'functionId':l11iIl(0x1d6,'0Ic0'),'appid':Ii1I1l[l11iIl(0x32d,'MX2X')],'clientVersion':Ii1I1l['YMFqg'],'client':'ios','body':{'linkId':I1llIl},'version':l11iIl(0x361,'#wYO'),'ua':$['UA'],'t':!![]},IllIil=await lI1l1i['getH5st'](liI1li);let ill1Ii={'url':Ii1I1l[l11iIl(0x2ed,'Ql1E')],'body':IllIil[l11iIl(0x2a9,'WL29')],'headers':{'origin':Ii1I1l['XVKDe'],'Referer':l11iIl(0x2c3,'4LN$'),'User-Agent':$['UA'],'Cookie':IIii1I,'content-type':Ii1I1l[l11iIl(0x28c,'CVd[')],'accept':Ii1I1l[l11iIl(0x1fc,'kdqn')]},'timeout':0x14*0x3e8};$[l11iIl(0x32f,'g%8u')](ill1Ii,async(llIIl1,ill1Il,i1lll1)=>{const IIIIll=l11iIl,Ii1I1I={'kLOrg':function(l1i1Ii,l1iI1){return Ii1I1l['RLHPW'](l1i1Ii,l1iI1);},'awxkr':function(lliiI1,IiiI1){return lliiI1==IiiI1;},'oGrGV':function(lilII,IIIiI){const i11iIi=iii1II;return Ii1I1l[i11iIi(0x36b,'4oKX')](lilII,IIIiI);},'VyXWY':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie'};try{if(IIIIll(0x351,'uHQ%')!==IIIIll(0x1f9,'2iDk')){if(llIIl1)console['log'](Ii1I1l[IIIIll(0x344,'Q5&6')]('',JSON['stringify'](llIIl1)));else{i1lll1=JSON['parse'](i1lll1);if(i1lll1[IIIIll(0x230,'dPe6')]==0x0)switch(i1lll1?.['data']?.['prizeType']){case 0x0:console[IIIIll(0x22b,'FIOL')](IIIIll(0x2e8,'j6uL'));break;case 0x1:console['log'](IIIIll(0x272,'^*Sl')+i1lll1?.[IIIIll(0x2fd,'j6uL')]?.[IIIIll(0x33a,'MX2X')]);break;case 0x2:console[IIIIll(0x21a,'MR2h')](IIIIll(0x1d5,'dPe6')+i1lll1?.[IIIIll(0x323,'MX2X')]?.[IIIIll(0x336,'f(@^')]);break;case null:console[IIIIll(0x22b,'FIOL')](IIIIll(0x30e,'j6uL'));break;default:console['log'](i1lll1?.[IIIIll(0x2c6,'CVd[')]?.[IIIIll(0x223,'*JGC')]+'-'+i1lll1?.[IIIIll(0x2c6,'CVd[')]?.['prizeConfigName']);return;}else{if(Ii1I1l['ICJlZ'](i1lll1[IIIIll(0x200,'uHQ%')],0x192)){if(Ii1I1l[IIIIll(0x295,'*JGC')]!==Ii1I1l[IIIIll(0x1d1,'3lQ4')])return i1i1I1[IIIIll(0x2b0,'z0ZE')](/[xy]/g,function(IllIll){const liiiii=IIIIll;var i1lllI=Ii1I1I['kLOrg'](liIlI[liiiii(0x2e1,'Ql1E')]()*0xa,0x0),llIIi1=Ii1I1I[liiiii(0x330,'Ql1E')](IllIll,'x')?i1lllI:Ii1I1I[liiiii(0x28b,'Ql1E')](i1lllI&0x3,0x8);return lll=llIIi1[liiiii(0x228,'nlZT')](),llli1;});else console[IIIIll(0x313,'UUo7')]('抽奖失败,'+(i1lll1?.[IIIIll(0x1c2,'MR2h')]||''));}else console[IIIIll(0x334,'3lQ4')]('抽奖失败,'+(i1lll1?.['errMsg']||'')),$[IIIIll(0x254,'MR2h')]=![];}}}else Iiiil['log']('获取任务,'+(Iiiii?.['errMsg']||''));}catch(l1i1Il){if(Ii1I1l[IIIIll(0x297,'swEB')](Ii1I1l['LcvrS'],Ii1I1l[IIIIll(0x36a,'Y@1g')])){I1iIil[IIIIll(0x35f,'Q5&6')](lI1Iil[IIIIll(0x34e,'CVd[')],IllIii[IIIIll(0x2f7,'p9j1')],IllIii['pMMkr'],{'open-url':IllIii[IIIIll(0x241,'5su1')]});return;}else $[IIIIll(0x2b2,'%V@w')](l1i1Il,ill1Il);}finally{if(Ii1I1l[IIIIll(0x345,'j6uL')]!==IIIIll(0x2e5,'@4kr'))return Iilli1[IIIIll(0x1d7,'kdqn')](I1l1Il),llIll1[IIIIll(0x354,'MX2X')](Illl1l['name'],'',Ii1I1I['VyXWY']),[];else Ii1I1l['BBwdY'](ll1II);}});});}async function Il1i1I(){const II1I=Ill111,ili111={'GWdlb':function(ii1Il){return ii1Il();},'UkXIK':II1I(0x2f8,'RX)L'),'rCsqK':II1I(0x269,'kdqn'),'IRscY':II1I(0x337,'Y@1g'),'YdSiU':'ecirj','HNQmx':function(l1iII,iI1Ill){return l1iII===iI1Ill;},'fSIDf':'NFeJG','gmZVR':II1I(0x203,'Ql1E'),'FngWn':function(lilI1,IIIi1){return lilI1==IIIi1;},'htZHP':function(i1llli,i1llll){return i1llli!==i1llll;},'hmTdc':'ZbgQq','xZHqu':II1I(0x2ef,'2iDk'),'NcFqc':function(iI1Ili,llIIiI){return iI1Ili!==llIIiI;},'uhwDd':II1I(0x2cc,'Y@1g'),'drQyI':II1I(0x2e4,'4LN$'),'bDKam':II1I(0x266,'5su1'),'dcgYj':'taskShowTitle','Gznwj':'BROWSE_','XJJkG':function(iI1111,IIIl1){return iI1111<IIIl1;},'FDzSQ':function(ii1ii,Iii1,I1I1lI){return ii1ii(Iii1,I1I1lI);},'iTHvy':function(ii1il){return ii1il();},'TIQhG':II1I(0x307,'W*Ey'),'kNYgE':II1I(0x23c,'FIOL'),'BQZLf':'apTaskList','omhFs':II1I(0x1fa,'uHQ%'),'prNkw':II1I(0x2db,'672a'),'huADg':II1I(0x2b6,'UUo7'),'sKCIf':II1I(0x2b5,'2iDk'),'UUbqb':II1I(0x1ef,'@4kr'),'nCXXH':II1I(0x2f3,'Y@1g'),'OixpE':II1I(0x24e,'f(@^'),'BTNPC':II1I(0x21d,'p9j1'),'ixpuz':function(l1iIlI,iI111I){return l1iIlI*iI111I;}},Ii1I11={'appId':ili111['kNYgE'],'functionId':ili111[II1I(0x30d,'j6uL')],'appid':II1I(0x2d3,'MX2X'),'clientVersion':ili111[II1I(0x286,'2iDk')],'client':ili111['prNkw'],'body':{'linkId':I1llIl},'version':ili111[II1I(0x2ae,'*JGC')],'ua':$['UA'],'t':!![]},IllIli=await lI1l1i['getH5st'](Ii1I11);let ii1Ii={'url':ili111[II1I(0x33e,'WmSQ')],'body':IllIli[II1I(0x2e0,'Q]pp')],'headers':{'origin':ili111[II1I(0x35d,'UUo7')],'Referer':ili111[II1I(0x2c8,'RX)L')],'User-Agent':$['UA'],'Cookie':IIii1I,'content-type':ili111[II1I(0x32e,'0Ic0')],'accept':ili111[II1I(0x356,'swEB')]},'timeout':ili111[II1I(0x20d,'dPe6')](0x14,0x3e8)};return new Promise(IIIlI1=>{const lI1111=II1I;ili111[lI1111(0x1ed,'MX2X')](ili111['TIQhG'],lI1111(0x20f,'2iDk'))?IilIi1():$[lI1111(0x22d,'*JGC')](ii1Ii,async(IiiIl,ii1l1l,l1lli1)=>{const IliII1=lI1111,IiiIi={'mjGwN':function(ii1l1i){const Ilil1=iii1II;return ili111[Ilil1(0x23e,'kdqn')](ii1l1i);},'GAQBw':ili111[IliII1(0x202,'rD^f')],'dfhed':ili111[IliII1(0x280,'MX2X')],'Xsnqw':function(l1iIl1,ii1iI){return l1iIl1(ii1iI);},'BJVpz':ili111['IRscY']};try{if(IliII1(0x261,'o^mH')===ili111[IliII1(0x209,'uHQ%')])i11I1I[IliII1(0x34a,'MR2h')]++,l1il1i[IliII1(0x24b,'W*Ey')](IliII1(0x2f2,'672a')+ll1[IliII1(0x1b8,'BQon')]);else{if(IiiIl)$[IliII1(0x31b,'5su1')](IiiIl);else{if(ili111[IliII1(0x2be,'WmSQ')](ili111['fSIDf'],ili111['gmZVR']))ll1lI[IliII1(0x2f6,'Ql1E')](l1iii,IIlli);else{l1lli1=JSON['parse'](l1lli1);if(ili111[IliII1(0x259,'5su1')](l1lli1?.[IliII1(0x35b,'WL29')],0x0)){if(ili111[IliII1(0x1b1,'j6uL')](ili111[IliII1(0x1de,'672a')],ili111[IliII1(0x23d,'Y@1g')])){let iI111i=l1lli1?.[IliII1(0x248,'DW3V')]||[];for(let I1I1l1=0x0;I1I1l1<iI111i[IliII1(0x2a6,'z0ZE')];I1I1l1++){if(ili111['NcFqc'](ili111[IliII1(0x2bc,'4oKX')],ili111[IliII1(0x33b,'%7^n')]))IiiIi[IliII1(0x329,'3lQ4')](lI11Il);else{$['taskTitle']=iI111i[I1I1l1]['taskTitle'],$['apTaskListid']=iI111i[I1I1l1]['id'],$[IliII1(0x1a6,'4oKX')]=iI111i[I1I1l1][IliII1(0x221,'8cYA')],$[IliII1(0x21b,'Q]pp')]=iI111i[I1I1l1][ili111['drQyI']],$[IliII1(0x312,'WL29')]=iI111i[I1I1l1][ili111['bDKam']],$[IliII1(0x2a3,'z(sC')]=iI111i[I1I1l1][IliII1(0x29b,'W*Ey')],$[IliII1(0x2f9,'Y@1g')]=iI111i[I1I1l1][ili111[IliII1(0x31d,'Q5&6')]];if(!$[IliII1(0x32b,'yeH%')]&&$['taskType'][IliII1(0x220,'0Ic0')](ili111[IliII1(0x30a,'0Ic0')])){if($['taskSourceUrl'])for(let i1lIii=0x0;i1lIii<0x1;i1lIii++){console[IliII1(0x27d,'@4kr')](IliII1(0x2bd,'#wYO')+$[IliII1(0x1ac,'#wYO')]),await iIIilI($[IliII1(0x214,'r*gB')],$[IliII1(0x294,'%7^n')],$[IliII1(0x247,'DTEU')]),await $['wait'](parseInt(Math[IliII1(0x2a5,'FIOL')]()*0x5dc+0x5dc,0xa));}else for(let III11i=0x0;ili111['XJJkG'](III11i,0x1);III11i++){console[IliII1(0x31b,'5su1')]('去做\x20'+$[IliII1(0x1eb,'z0ZE')]),await ili111['FDzSQ'](Ii1iii,$[IliII1(0x267,'yeH%')],$[IliII1(0x1b3,'yeH%')]);}}}}}else lI1Iii=[i1li[IliII1(0x1b9,'g%8u')](IiiIi['GAQBw']),li1II[IliII1(0x366,'MX2X')](IiiIi[IliII1(0x34d,'2iDk')]),...IiiIi[IliII1(0x1e5,'WL29')](IliI11,i1ll[IliII1(0x317,'WL29')](IiiIi[IliII1(0x1c8,'%7^n')])||'[]')['map'](III11l=>III11l[IliII1(0x2b8,'g%8u')])]['filter'](llIl1i=>!!llIl1i);}else console[IliII1(0x321,'Y@1g')](IliII1(0x24f,'r*gB')+(l1lli1?.[IliII1(0x2c2,'Y@1g')]||l1lli1?.['msg']||''));}}}}catch(llIl1l){IliII1(0x2fb,'DTEU')===IliII1(0x1ca,'UUo7')?ll1li():$[IliII1(0x22b,'FIOL')](llIl1l);}finally{ili111[IliII1(0x1af,'#wYO')](IIIlI1);}});});}async function Ii1iii(Iiil,IIIli){const l1iIi1=Ill111,ii1i1={'FLkMo':function(Iiii,llIl11){return Iiii==llIl11;},'NPPwh':'>\x20任务失败，没有获取到任务ID','EvmcE':function(IIIll,I1I1il){return IIIll!==I1I1il;},'PtlWK':l1iIi1(0x350,'9BwK'),'jVHTW':function(l1llii,liII1){return l1llii!==liII1;},'BvDFc':l1iIi1(0x1e8,'2iDk'),'fVnTz':function(I1I1ii){return I1I1ii();},'sZduj':l1iIi1(0x245,'4LN$'),'jzBZa':l1iIi1(0x2b9,'*JGC'),'BIMKI':l1iIi1(0x20a,'FIOL'),'wNrld':'activities_platform','CTFKS':l1iIi1(0x27e,'f(@^'),'jEVOc':'ios','DQbas':l1iIi1(0x2bb,'6[d7'),'DSCbe':l1iIi1(0x1da,'Q5&6'),'LUjFT':l1iIi1(0x22f,'Q5&6'),'kYrfv':function(l1llil,IIIlIi){return l1llil*IIIlIi;}};return new Promise(async llIl1I=>{const llIil=l1iIi1,i1lIl1={'nCUBX':function(liIli1,IIIlIl){const i1I1I=iii1II;return ii1i1[i1I1I(0x224,'672a')](liIli1,IIIlIl);},'TzuXM':function(IIIlI,IiiI){return IIIlI<IiiI;},'yXaNc':function(iIi1i,l1iIll,l1iIli,iIi1l,i1lIlI){return iIi1i(l1iIll,l1iIli,iIi1l,i1lIlI);},'BmDQO':ii1i1[llIil(0x349,'9BwK')],'eLjaM':function(l1lliI,I1I1iI){const llIii=llIil;return ii1i1[llIii(0x1e6,'%ep3')](l1lliI,I1I1iI);},'vBNjX':ii1i1['PtlWK'],'WooIJ':function(IIIlII,iiIiI1){const IIiiI1=llIil;return ii1i1[IIiiI1(0x1cb,'%V@w')](IIIlII,iiIiI1);},'IoAWG':ii1i1['BvDFc'],'QJgVv':function(ili1Il){const IIIIi1=llIil;return ii1i1[IIIIi1(0x25f,'672a')](ili1Il);}};if(ii1i1[llIil(0x255,'WmSQ')](ii1i1[llIil(0x322,'%7^n')],ii1i1[llIil(0x232,'2iDk')]))i1lI['done']();else{const Iilll1={'appId':ii1i1[llIil(0x2b7,'f(@^')],'functionId':ii1i1[llIil(0x303,'5su1')],'appid':ii1i1[llIil(0x1f1,'rD^f')],'clientVersion':ii1i1[llIil(0x227,'#wYO')],'client':ii1i1[llIil(0x242,'DTEU')],'body':{'taskType':Iiil,'taskId':IIIli,'channel':0x4,'checkVersion':!![],'linkId':I1llIl},'version':ii1i1[llIil(0x2fa,'WmSQ')],'ua':$['UA'],'t':!![]},ll11I=await lI1l1i[llIil(0x28a,'9BwK')](Iilll1);let iIi1I={'url':ii1i1[llIil(0x24a,'3lQ4')],'body':ll11I[llIil(0x1c0,'z0ZE')],'headers':{'origin':llIil(0x27f,'W*Ey'),'Referer':llIil(0x1be,'Q]pp'),'User-Agent':$['UA'],'Cookie':IIii1I,'content-type':llIil(0x2ff,'W*Ey'),'accept':ii1i1[llIil(0x28f,'3lQ4')]},'timeout':ii1i1[llIil(0x23f,'nlZT')](0x14,0x3e8)};$[llIil(0x2de,'672a')](iIi1I,async(liIIl,IlI1lI,liIIi)=>{const ii1IIl=llIil;try{if(liIIl)console['log'](''+JSON[ii1IIl(0x2ee,'RX)L')](liIIl));else{liIIi=JSON[ii1IIl(0x2e9,'MR2h')](liIIi);if(i1lIl1[ii1IIl(0x319,'^*Sl')](liIIi[ii1IIl(0x263,'%ep3')],0x0)){$['apTaskDetail']=liIIi[ii1IIl(0x237,'f(@^')];const IilllI=$[ii1IIl(0x2b4,'0Ic0')]?.['taskItemList']||[],iI1lIi=$[ii1IIl(0x360,'Q5&6')]?.['status']?.[ii1IIl(0x328,'RX)L')];for(let l1lllI=0x0;i1lIl1[ii1IIl(0x1dd,'WmSQ')](l1lllI,iI1lIi);l1lllI++){const llliIi=IilllI[l1lllI];llliIi?($[ii1IIl(0x2fe,'8cYA')]=llliIi[ii1IIl(0x1c6,'BQon')],$['taskInsert']=llliIi[ii1IIl(0x275,'4LN$')],await i1lIl1['yXaNc'](iIIilI,$[ii1IIl(0x2c0,'WL29')],$['apTaskListid'],$['taskSourceUrl'],$[ii1IIl(0x2f4,'BQon')]),await $['wait'](0xbb8)):console['log'](i1lIl1[ii1IIl(0x233,'3lQ4')]);}}else i1lIl1[ii1IIl(0x289,'0Ic0')](liIIi[ii1IIl(0x1bf,'4LN$')],0x192)?i1lIl1[ii1IIl(0x338,'Y@1g')](i1lIl1[ii1IIl(0x222,'4LN$')],'wVSnt')?console['log'](ii1IIl(0x2d9,'z0ZE')+(liIIi?.[ii1IIl(0x291,'z0ZE')]||'')):ll1ii['log']('进入首页失败,'+(IIli11?.[ii1IIl(0x352,'uHQ%')]||'')):console['log']('获取任务,'+(liIIi?.[ii1IIl(0x26c,'p9j1')]||''));}}catch(i1lIll){i1lIl1[ii1IIl(0x27c,'9BwK')](i1lIl1[ii1IIl(0x225,'WL29')],'NMppe')?(lili1['nowcontinue']=!![],ll1l1['lotteryChances']=IllIIi?.[ii1IIl(0x2dd,'4LN$')]?.[ii1IIl(0x1e3,'Q]pp')],IllIIl[ii1IIl(0x2df,'uHQ%')]('当前抽奖次数：'+IiiIi1[ii1IIl(0x28e,'@4kr')])):$[ii1IIl(0x206,'*JGC')](i1lIll,IlI1lI);}finally{i1lIl1['QJgVv'](llIl1I);}});}});}async function iIIilI(liIlii,llii1l,liIlil,llii1i){const ii1IIi=Ill111,ll11il={'TPLsZ':function(iI1lIl,iiIiII){return iI1lIl|iiIiII;},'DoQIh':function(Iili,iIi11){return Iili*iIi11;},'GPphv':'>\x20任务失败，没有获取到任务ID','ggLaQ':ii1IIi(0x1df,'672a'),'FempX':'jtWSy','YtsQc':function(Iil1,ll11lI){return Iil1+ll11lI;},'hSSgT':ii1IIi(0x2f5,'CVd['),'oDpnp':ii1IIi(0x309,'DW3V'),'NhxRy':ii1IIi(0x21c,'Q5&6'),'EbJvy':function(llliI1,liIII){return llliI1===liIII;},'iGksU':ii1IIi(0x257,'%V@w'),'gFHci':'dlCnh','hDzbH':'apsDoTask','DpfDC':ii1IIi(0x26a,'swEB'),'HgzHl':ii1IIi(0x2da,'r*gB'),'vTMKb':ii1IIi(0x342,'BQon'),'Dceqs':ii1IIi(0x31e,'8cYA'),'aygfB':function(llii11,Iillli){return llii11*Iillli;}};return new Promise(async ll11l1=>{const I1ll1i=ii1IIi,ll111={'ZRncW':function(llliII,iiIiIl){return llliII+iiIiIl;},'bAbVN':function(IlI1l1,liIliI){return ll11il['TPLsZ'](IlI1l1,liIliI);},'EaPoF':function(llii1I,iiIiIi){const I1ll1l=iii1II;return ll11il[I1ll1l(0x252,'672a')](llii1I,iiIiIi);},'xOWkp':function(l1lll1,IilI){return l1lll1==IilI;},'LQWjI':ll11il[I1ll1i(0x285,'672a')],'EIAfg':I1ll1i(0x20c,'swEB'),'LwNsi':'wWucJ','wtigz':'dGXFi','WnNTu':function(liIlli,lil11){return liIlli===lil11;},'MgCwW':ll11il[I1ll1i(0x211,'%7^n')],'xkIIq':ll11il[I1ll1i(0x2ea,'3lQ4')],'hjfnV':function(Iillll,lllI1){const i11iII=I1ll1i;return ll11il[i11iII(0x1ff,'Q5&6')](Iillll,lllI1);},'vMdJL':ll11il[I1ll1i(0x26e,'#wYO')],'HJfQB':ll11il[I1ll1i(0x210,'bB@2')],'YUzbD':function(III11I,Ilii1){return III11I!==Ilii1;},'mURND':I1ll1i(0x1fb,'3lQ4'),'KWLva':ll11il[I1ll1i(0x1d2,'672a')],'mExbr':function(ll11i1){return ll11i1();}};if(ll11il[I1ll1i(0x240,'Q]pp')](ll11il[I1ll1i(0x1c4,'%V@w')],ll11il['gFHci']))try{return iIIl11['parse'](l1l1I1);}catch(Iill){return I1ilI1[I1ll1i(0x2d5,'r*gB')](Iill),iillll[I1ll1i(0x1b7,'g%8u')](lIIilI[I1ll1i(0x34b,'RX)L')],'',I1ll1i(0x2f0,'W*Ey')),[];}else{const ili1II={'appId':I1ll1i(0x2ad,'8cYA'),'functionId':ll11il[I1ll1i(0x2d8,'p9j1')],'appid':ll11il['DpfDC'],'clientVersion':ll11il['HgzHl'],'client':I1ll1i(0x31c,'swEB'),'body':{'taskType':liIlii,'taskId':llii1l,'channel':0x4,'checkVersion':!![],'linkId':I1llIl,'itemId':liIlil,'taskInsert':llii1i},'version':I1ll1i(0x324,'@4kr'),'ua':$['UA'],'t':!![]},liIllI=await lI1l1i[I1ll1i(0x2ac,'#wYO')](ili1II);let ll11i={'url':'https://api.m.jd.com/api','body':liIllI['params'],'headers':{'origin':I1ll1i(0x1bb,'%ep3'),'Referer':I1ll1i(0x30f,'Q5&6'),'User-Agent':$['UA'],'Cookie':IIii1I,'content-type':ll11il[I1ll1i(0x249,'bB@2')],'accept':ll11il[I1ll1i(0x23b,'4LN$')]},'timeout':ll11il[I1ll1i(0x2d4,'BQon')](0x14,0x3e8)};$[I1ll1i(0x26b,'BQon')](ll11i,async(iI1lI1,I1I1li,l1i11)=>{const i1I1l=I1ll1i,IlI1li={'HsDpK':function(IlI1ll,ll11l){return ll111['ZRncW'](IlI1ll,ll11l);},'MySWV':function(III111,liIll1){const lI1Ii1=iii1II;return ll111[lI1Ii1(0x25d,'6[d7')](III111,liIll1);},'okuOh':function(l1llli,iI1lII){return ll111['EaPoF'](l1llli,iI1lII);},'AMNBu':function(ll11iI,l1i1I){const i1I11=iii1II;return ll111[i1I11(0x2a0,'FIOL')](ll11iI,l1i1I);},'ZTwiP':function(l1llll,I1I1ll){const I1I1i1=iii1II;return ll111[I1I1i1(0x359,'BQon')](l1llll,I1I1ll);},'vApNE':function(lil1i,liiiil){return lil1i&liiiil;},'ixIOR':ll111[i1I1l(0x274,'DTEU')]};if(ll111[i1I1l(0x1b6,'nlZT')]!==ll111[i1I1l(0x362,'kdqn')])try{if(ll111['wtigz']===i1I1l(0x1f6,'W*Ey')){if(iI1lI1){if(ll111[i1I1l(0x2ba,'672a')](ll111[i1I1l(0x1d0,'4LN$')],ll111[i1I1l(0x1e1,'z0ZE')]))return!![];else console[i1I1l(0x341,'%ep3')](ll111[i1I1l(0x357,'0Ic0')]('',JSON['stringify'](iI1lI1)));}else{l1i11=JSON[i1I1l(0x1b4,'6[d7')](l1i11);if(ll111[i1I1l(0x216,'yeH%')](l1i11[i1I1l(0x1dc,'o^mH')],0x0))ll111[i1I1l(0x1a9,'3lQ4')]!==ll111[i1I1l(0x290,'rD^f')]?($['lotteryChances']++,console[i1I1l(0x33d,'N&gR')](i1I1l(0x1aa,'5su1')+$['lotteryChances'])):lIII1l[i1I1l(0x1ec,'#wYO')](IlI1li['HsDpK']('',l1iIIi[i1I1l(0x2cb,'WmSQ')](lilIi)));else ll111[i1I1l(0x25c,'#wYO')](l1i11[i1I1l(0x230,'dPe6')],0x192)?console['log'](i1I1l(0x25b,'BQon')+(l1i11?.[i1I1l(0x29d,'j6uL')]||'')):console['log']('完成任务失败,'+(l1i11?.['errMsg']||''));}}else IiilIl[i1I1l(0x2ab,'MX2X')]('','❌\x20'+iii1Ii[i1I1l(0x2e2,'^*Sl')]+i1I1l(0x27b,'3lQ4')+iii1Il+'!','');}catch(lllIl){if(ll111['YUzbD'](ll111['mURND'],ll111[i1I1l(0x335,'6[d7')])){var illlii=IlI1li[i1I1l(0x35c,'672a')](IlI1li[i1I1l(0x1cc,'kdqn')](liiIIl['random'](),0xa),0x0),I1lIIi=IlI1li['AMNBu'](iil1iI,'x')?illlii:IlI1li['ZTwiP'](IlI1li[i1I1l(0x2ce,'rD^f')](illlii,0x3),0x8);return IlIllI=I1lIIi[i1I1l(0x23a,'@4kr')](),il1i1I;}else $['logErr'](lllIl,I1I1li);}finally{ll111['YUzbD'](ll111[i1I1l(0x1b0,'FIOL')],i1I1l(0x346,'nlZT'))?lilIl[i1I1l(0x22a,'4oKX')](IlI1li[i1I1l(0x24c,'3lQ4')]):ll111[i1I1l(0x318,'8cYA')](ll11l1);}else Iiili[i1I1l(0x1f7,'bB@2')](IilIli,li1);});}});}function il1l1(l1i1l=Ill111(0x1c5,'j6uL')){const i1I1i=Ill111,I1iI1l={'gdvdI':function(illlil,Iliil){return illlil|Iliil;},'orgvk':function(I1lIIl,l1ilI1){return I1lIIl*l1ilI1;},'lviDc':function(l1l1Il,lil1I){return l1l1Il&lil1I;}};return l1i1l[i1I1i(0x35e,'RX)L')](/[xy]/g,function(l1l1Ii){var IIIIlI=I1iI1l['gdvdI'](I1iI1l['orgvk'](Math['random'](),0xa),0x0),l1i11l=l1l1Ii=='x'?IIIIlI:I1iI1l['lviDc'](IIIIlI,0x3)|0x8;return jdaid=l1i11l['toString'](),jdaid;});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
